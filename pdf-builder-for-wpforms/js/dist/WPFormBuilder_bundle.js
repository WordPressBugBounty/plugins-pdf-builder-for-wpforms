var WPFormBuilder=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=763)}({0:function(t,e){t.exports=React},10:function(t,e,n){"use strict";function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){l=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var l=function(){function t(){i(this,t)}return u(t,null,[{key:"GetInstance",value:function(){return null==window.RNLocalEvent&&(window.RNLocalEvent=new s),window.RNLocalEvent}},{key:"Publish",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.GetInstance().Publish(e,n)}},{key:"Subscribe",value:function(e,n){t.GetInstance().Subscribe(e,n)}},{key:"UnsubscribeEvent",value:function(e,n){t.GetInstance().UnsubscribeEvent(e,n)}}]),t}();l.LocalEvent=null;var s=function(){function t(){i(this,t),this.Events={}}return u(t,[{key:"Publish",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.constructor.GetName();if(null==this.Events[n])return e;var o,i=this.Events[n],a=null,u=r(i);try{for(u.s();!(o=u.n()).done;){var l=o.value,s=void 0;null!=(s=l.CallBack(t))&&(a=s)}}catch(t){u.e(t)}finally{u.f()}return null==a?e:a}},{key:"Subscribe",value:function(t,e){var n=t.GetName();null==this.Events[n]&&(this.Events[n]=[]),this.Events[n].push(new c(t,e))}},{key:"UnsubscribeEvent",value:function(t,e){var n=t.GetName(),r=this.Events[n];if(null!=r){var o=r.find((function(t){return t.CallBack==e}));null!=o&&r.splice(r.indexOf(o),1),0==r.length&&delete this.Events[n]}}}]),t}(),c=function t(e,n){i(this,t),this.Event=void 0,this.CallBack=void 0,this.ReturnType=void 0,this.Event=e,this.CallBack=n},f=function(){function t(){i(this,t),this.ReturnType=void 0}return u(t,null,[{key:"GetName",value:function(){throw new Error("Name was not defined")}}]),t}()},106:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return i}));var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(this,t),this.Table=void 0,this.tHead=void 0,this.tBody=void 0,this.tFoot=void 0,this.lastSectionCreated=void 0,this.lastRow=void 0,this.Table=document.createElement("table"),this.Table.className=e}var e,n,i;return e=t,(n=[{key:"CreateTHead",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null==this.tHead&&(this.tHead=document.createElement("thead"),this.tHead.className=t,this.Table.appendChild(this.tHead),this.lastSectionCreated=this.tHead)}},{key:"CreateTBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null==this.tBody&&(this.tBody=document.createElement("tbody"),this.tBody.className=t,this.Table.appendChild(this.tBody),this.lastSectionCreated=this.tBody)}},{key:"CreateTFoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null==this.tFoot&&(this.tFoot=document.createElement("tfoot"),this.tFoot.className=t,this.Table.appendChild(this.tFoot),this.lastSectionCreated=this.tFoot)}},{key:"CreateRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null==this.lastSectionCreated)throw new Error("No tbody or thead was created yet");this.lastRow=document.createElement("tr"),this.lastRow.className=t,this.lastSectionCreated.appendChild(this.lastRow)}},{key:"CreateTextColumn",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"td",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=document.createElement(r);i.className=n,this.lastRow.appendChild(i),o?e=i:(e=document.createElement("p"),i.appendChild(e)),e.innerText=t}},{key:"CreateRawColumn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"td",r=document.createElement(n);return r.className=e,this.lastRow.appendChild(r),r.appendChild(t),r}}])&&o(e.prototype,n),i&&o(e,i),t}()},11:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return p}));var r=n(4),o=(n(296),n(32));function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var f=function(){function t(){l(this,t),this.IsDirty=!1,this._fields=[],this._defaultValuesLoaded=void 0,this._defaultValuesLoaded=!1}return c(t,[{key:"AddField",value:function(t){null!=this._fields&&this._fields.push(t)}},{key:"RemoveField",value:function(t){if(null!=this._fields){var e=this._fields.indexOf(t);e>=0&&this._fields.splice(e,1)}}},{key:"Observe",value:function(t,e){var n=this,o=function(){e(n[t])},i=new y;return i.mainSubscription=Object(r.observe)(this,t,(function(t){o(),n.ObserveSubProperties(t.newValue,o,i)})),this.ObserveSubProperties(this[t],o,i),i.Unsubscribe.bind(i)}},{key:"ObserveSubProperties",value:function(t,e,n){if(n.SubElementsUnsubscribe(),null!=t&&void 0!==t.$mobx)for(var o in t.$mobx.values)n.subElements.push(Object(r.observe)(t,o,(function(t){e()})))}},{key:"GetValue",value:function(t){return this[t]}},{key:"SetValue",value:function(t,e){return this.ParseAndSetValue(t,e)}},{key:"Merge",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._defaultValuesLoaded||(this.LoadDefaultValues(),this._defaultValuesLoaded=!0),null==t)return this.SetAutoIncrementIds(),this;for(var e in t)if(this.hasOwnProperty(e)){var n=t[e];this.ParseAndSetValue(e,n)}return this.SetAutoIncrementIds(),this}},{key:"SetAutoIncrementIds",value:function(){if(null!=this.StoreAutoIncrementDictionary){var t=this.StoreAutoIncrementDictionary;for(var e in this)if(this.hasOwnProperty(e)){if(null!=t[e]){var n=o.a.SanitizeNumber(this[e]);if(0==n||null==n){var r=t[e];++r,this[e]=r}t[e]=Math.max(this[e],t[e])}}}}},{key:"ParseAndSetValue",value:function(t,e){var n=this[t],o=this.GetValueFromLoader(t,e);if(null==o)if(null==n||null==n.LoadDefaultValues){if("number"==typeof n){var u=parseFloat(e.toString());return isNaN(u)&&(u=0),void(this[t]=u)}if("boolean"!=typeof n)if("string"!=typeof n)if(null!=n&&n.constructor==Array||Object(r.isObservableArray)(n)){var l=Reflect.getMetadata(d,this,t);if(null==l)throw"Property "+t+" of class "+this.constructor.name+" is an array but does not have the OptionType decorator implemented";if(this[t]=[],l==String)return void(this[t]=e);if(l==Number)return void(this[t]=e);var s,c=a(e);try{for(c.s();!(s=c.n()).done;){var f=s.value;null!=f&&f.hasOwnProperty("_fields")&&f.hasOwnProperty("_defaultValuesLoaded")?this[t].push(f):this[t].push((new l).Merge(f))}}catch(t){c.e(t)}finally{c.f()}}else{if(Reflect.getMetadata(d,this,t)!=Object)throw"Could not process type "+i(n)+" of "+t;this[t]=e}else this[t]=e;else isNaN(e)?this[t]="true"==e:this[t]=!0===e||1==parseFloat(e)}else null!=e&&e.hasOwnProperty("_fields")&&e.hasOwnProperty("_defaultValuesLoaded")?this[t]=e:this[t].Merge(e);else this[t]=o}},{key:"GetValueFromLoader",value:function(t,e){return null}},{key:"Validate",value:function(){var t=!0;if(null==this._fields)return t;var e,n=a(this._fields);try{for(n.s();!(e=n.n()).done;){e.value.Validate()||(t=!1)}}catch(t){n.e(t)}finally{n.f()}return t}},{key:"ToObject",value:function(){var t=Object(r.toJS)(this);return this.SerializeObject(t)}},{key:"Subscribe",value:function(t,e){return Object(r.intercept)(this,t,e)}},{key:"SerializeObject",value:function(t){var e=["_fields","_defaultValuesLoaded","IsDirty"];for(var n in t){var r=t[n];e.indexOf(n)>=0||"function"==typeof r?delete t[n]:(Array.isArray(r)&&this.SerializeArray(r),"object"==i(r)&&(r=this.SerializeObject(r)))}return t}},{key:"SerializeArray",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];Array.isArray(n)&&this.SerializeArray(n),"object"==i(n)&&(t[e]=this.SerializeObject(n))}}}]),t}(),d="StoreType";function h(t){return Reflect.metadata(d,t)}var y=function(){function t(){l(this,t),this.mainSubscription=void 0,this.subElements=[]}return c(t,[{key:"Unsubscribe",value:function(){this.mainSubscription(),this.SubElementsUnsubscribe()}},{key:"SubElementsUnsubscribe",value:function(){if(null!=this.subElements){var t,e=a(this.subElements);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(t){e.e(t)}finally{e.f()}this.subElements=[]}}}]),t}();function p(t){return function(t,e,n){null==t.StoreAutoIncrementDictionary&&(t.StoreAutoIncrementDictionary=[]),t.StoreAutoIncrementDictionary[e]=0}}},13:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Core/PDFControlBase")},20:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Core/PDFControlBase.Options")},21:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/ColorProperty")},23:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/StyleSets/DimensionStyleSet")},25:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/DropDownProperty")},281:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/ImageProperty")},296:function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var o="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(n);function a(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===o.Reflect?o.Reflect=n:i=a(o.Reflect,i),function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,l=!a&&!u,s={create:a?function(){return L(Object.create(null))}:u?function(){return L({__proto__:null})}:function(){return L({})},has:l?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:l?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),f="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function a(t,e){return[t,e]}}():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,y=new(f||"function"!=typeof WeakMap?function(){var t=s.create(),e=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&s.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?s.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var e;do{e="@@WeakMap@@"+a()}while(s.has(t,e));return t[e]=!0,e}function o(t,r){if(!n.call(t,e)){if(!r)return;Object.defineProperty(t,e,{value:s.create()})}return t[e]}function i(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function a(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):i(new Uint8Array(t),t):i(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var o=e[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function p(t,e,n){var r=y.get(t);if(w(r)){if(!n)return;r=new d,y.set(t,r)}var o=r.get(e);if(w(o)){if(!n)return;o=new d,r.set(e,o)}return o}function v(t,e,n){var r=p(e,n,!1);return!w(r)&&!!r.has(t)}function b(t,e,n){var r=p(e,n,!1);if(!w(r))return r.get(t)}function S(t,e,n,r){p(n,r,!0).set(t,e)}function m(t,e){var n=[],r=p(t,e,!1);if(w(r))return n;for(var o=function(t){var e=E(t,i);if(!T(e))throw new TypeError;var n=e.call(t);if(!O(n))throw new TypeError;return n}(r.keys()),a=0;;){var u=I(o);if(!u)return n.length=a,n;var l=u.value;try{n[a]=l}catch(t){try{j(o)}finally{throw t}}a++}}function g(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function w(t){return void 0===t}function C(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function P(t,e){switch(g(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=E(t,o);if(void 0!==r){var i=r.call(t,n);if(O(i))throw new TypeError;return i}return function(t,e){if("string"===e){var n=t.toString;if(T(n))if(!O(o=n.call(t)))return o;if(T(r=t.valueOf))if(!O(o=r.call(t)))return o}else{var r;if(T(r=t.valueOf))if(!O(o=r.call(t)))return o;var o,i=t.toString;if(T(i))if(!O(o=i.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function k(t){var e=P(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function _(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function T(t){return"function"==typeof t}function A(t){return"function"==typeof t}function E(t,e){var n=t[e];if(null!=n){if(!T(n))throw new TypeError;return n}}function I(t){var e=t.next();return!e.done&&e}function j(t){var e=t.return;e&&e.call(t)}function x(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o||o===t?e:o}function L(t){return t.__=void 0,delete t.__,t}e("decorate",(function(t,e,n,r){if(w(n)){if(!_(t))throw new TypeError;if(!A(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!w(r)&&!C(r)){if(!A(r))throw new TypeError;e=r}}return e}(t,e)}if(!_(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(r)&&!w(r)&&!C(r))throw new TypeError;return C(r)&&(r=void 0),function(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!w(i)&&!C(i)){if(!O(i))throw new TypeError;r=i}}return r}(t,e,n=k(n),r)})),e("metadata",(function(t,e){return function(n,r){if(!O(n))throw new TypeError;if(!w(r)&&!function(t){switch(g(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;S(t,e,n,r)}})),e("defineMetadata",(function(t,e,n,r){if(!O(n))throw new TypeError;return w(r)||(r=k(r)),S(t,e,n,r)})),e("hasMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),function t(e,n,r){if(v(e,n,r))return!0;var o=x(n);return!C(o)&&t(e,o,r)}(t,e,n)})),e("hasOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),v(t,e,n)})),e("getMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),function t(e,n,r){if(v(e,n,r))return b(e,n,r);var o=x(n);return C(o)?void 0:t(e,o,r)}(t,e,n)})),e("getOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return w(n)||(n=k(n)),b(t,e,n)})),e("getMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return w(e)||(e=k(e)),function t(e,n){var r=m(e,n),o=x(e);if(null===o)return r;var i=t(o,n);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new h,u=[],l=0,s=r;l<s.length;l++){var c=s[l];a.has(c)||(a.add(c),u.push(c))}for(var f=0,d=i;f<d.length;f++){c=d[f];a.has(c)||(a.add(c),u.push(c))}return u}(t,e)})),e("getOwnMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return w(e)||(e=k(e)),m(t,e)})),e("deleteMetadata",(function(t,e,n){if(!O(e))throw new TypeError;w(n)||(n=k(n));var r=p(e,n,!1);if(w(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=y.get(e);return o.delete(n),o.size>0||y.delete(e),!0}))}(i)}()}(n||(n={}))}).call(this,n(62),n(47))},300:function(t,e){t.exports=InternalShared("InternalShared/Events/GetControl")},301:function(t,e){t.exports=InternalShared("InternalShared/Events/GetControlOptions")},31:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/SimpleTextProperty")},32:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return i}));var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"SanitizeStringArray",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==e?[]:Array.isArray(e)?e:n?[]:[t.SanitizeString(e)]}},{key:"SanitizeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null==t||Array.isArray(t)||null==t.toString||"object"==r(t)?e:t.toString()}},{key:"GetValueFromPath",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==t)return n;for(var r="";null!=(r=e.shift());){if(null==t[r])return n;t=t[r]}return t}},{key:"GetStringValueFromPath",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.GetValueFromPath(e,n,null);return null==o?r:t.SanitizeString(o)}},{key:"SanitizeNumber",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t||Array.isArray(t)?e:(t=Number(t),isNaN(t)?e:t)}},{key:"SanitizeBoolean",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===t?e:"boolean"==typeof t?t:isNaN(Number(t))?e:0!=t}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}()},336:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return o}));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Config=void 0}var e,n,o;return e=t,o=[{key:"GetInstance",value:function(){return null==window.RNCurrencyUtils&&(window.RNCurrencyUtils=new t),window.RNCurrencyUtils}}],(n=[{key:"FormatValue",value:function(t){isNaN(t)&&(t=0);var e=t.toFixed(this.Config.NumberOfDecimals),n=e.split("."),r=n[0],o=n.length>1?"."+n[1]:"",i=/(\d+)(\d{3})/;if(""!=this.Config.ThousandSeparator)for(;i.test(r);)r=r.replace(i,"$1"+this.Config.ThousandSeparator+"$2");return o.length>0&&(o=o.slice(1),o=this.Config.DecimalSeparator+o),e=r+o,"left"==this.Config.Position?this.Config.Symbol+e:"left_space"==this.Config.Position?this.Config.Symbol+" "+e:"right"==this.Config.Position?e+this.Config.Symbol:"right_space"==this.Config.Position?e+" "+this.Config.Symbol:void 0}}])&&r(e.prototype,n),o&&r(e,o),t}()},4:function(t,e){t.exports=mobx},449:function(t,e){t.exports=InternalShared("InternalShared/Events/GetAdvancedField")},47:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},51:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/CheckBoxProperty")},56:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Fields/FieldItemBase")},61:function(t,e){t.exports=InternalShared("InternalShared/Events/UpdateStyleSettingsPanel")},62:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,s=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?s=l.concat(s):f=-1,s.length&&h())}function h(){if(!c){var t=u(d);c=!0;for(var e=s.length;e;){for(l=s,s=[];++f<e;)l&&l[f].run();f=-1,e=s.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new y(t,e)),1!==s.length||c||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},763:function(t,e,n){"use strict";n.r(e);var r,o,i,a,u,l=n(10),s=n(449),c=n(56),f=n(9),d=n(13),h=n(23),y=n(281),p=n(31),v=n(51),b=n(4),S=n(11),m=n(20);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function O(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),t}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?j(t):e}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L,D,M,R=function(t){T(n,t);var e=E(n);function n(){var t;P(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).Type=void 0,t.Label=void 0,t.Format=void 0,t}return _(n,[{key:"LoadDefaultValues",value:function(){this.Type="",this.Label="",this.Format=D.string}}]),n}(S.b),G=(r=Object(S.c)(R),u=function(t){T(n,t);var e=E(n);function n(){var t;P(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return w(t=e.call.apply(e,[this].concat(o)),"Type",i,j(t)),w(t,"Columns",a,j(t)),t.ShowGrandTotal=void 0,t.ProductLabel=void 0,t.PriceLabel=void 0,t.GrandTotalLabel=void 0,t.RowSeparator=void 0,t.EvenColor=void 0,t.EvenBackground=void 0,t.OddColor=void 0,t.OddBackground=void 0,t.BorderColor=void 0,t}return _(n,[{key:"LoadDefaultValues",value:function(){C(x(n.prototype),"LoadDefaultValues",this).call(this),this.Type=ot.InvoiceDetail.toString(),this.Columns=[],this.ShowGrandTotal=!0,this.GrandTotalLabel="Total",this.RowSeparator=M.Stripped.toString(),this.ProductLabel="Product",this.PriceLabel="Price",this.OddColor="#000000",this.OddBackground="#FFFFFF",this.EvenBackground="#f9f9f9",this.EvenColor="#000000",this.BorderColor="#dfdfdf"}}]),n}(m.PDFControlBaseOptions),i=O((o=u).prototype,"Type",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=O(o.prototype,"Columns",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o);!function(t){t.ProductName="name",t.Price="price"}(L||(L={})),function(t){t.string="string",t.number="number"}(D||(D={})),function(t){t.None="none",t.Line="line",t.Stripped="stripped",t.LastRow="last"}(M||(M={}));var F=n(106),B=n(336),N=n(77),z=n(25),V=n(21),U=n(61);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e,n){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Z(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Z(t);if(e){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(i,t);var e,n,r,o=Q(i);function i(){var t;$(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).AllowedResizeDirection="horizontal",t.Options=void 0,t.properties=void 0,t}return e=i,(n=[{key:"GetStyles",value:function(){var t=this,e=[];switch(e.push(h.DimensionStyleSet.GetStyles(this)),e.push(new f.GroupProperties("Header Styles").AddProperties([new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".productDetail th")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".productDetail th")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})])),this.Options.RowSeparator){case M.Stripped:e.push(new f.GroupProperties("Separator Styles").AddProperties([new V.ColorProperty(this,"OddBackground").SetLabel("Odd Background").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"OddColor",this.Options).SetLabel("Odd Color").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"EvenBackground").SetLabel("Even Background").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"EvenColor",this.Options).SetLabel("Even Color").AddStyles({width:"50%",display:"inline-block"}).OnChange((function(e){return t.SetInitialStyles()}))]));break;case M.Line:case M.LastRow:e.push(new f.GroupProperties("Separator Styles").AddProperties([new V.ColorProperty(this,"BorderColor").SetLabel("Border Color").OnChange((function(e){return t.SetInitialStyles()})),new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})]));break;case M.None:e.push(new f.GroupProperties("Separator Styles").AddProperties([new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".productDetail tbody")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})]))}return e.push(new f.GroupProperties("Total Styles").AddProperties([new V.ColorProperty(this,"background-color",this.StyleManager.CreateStyleClassManager(".footerDetail .total")).SetLabel("Background Color").AddStyles({width:"50%",display:"inline-block"}),new V.ColorProperty(this,"color",this.StyleManager.CreateStyleClassManager(".footerDetail .total")).SetLabel("Color").AddStyles({width:"50%",display:"inline-block"})])),e}},{key:"SetInitialStyles",value:function(){Y(Z(i.prototype),"SetInitialStyles",this).call(this),this.StyleManager.ClearFieldStyles(),this.StyleManager.AddStyleSet(".productDetail, .footerDetail",{"border-collapse":"collapse"}),this.StyleManager.AddStyleSet(".productDetail, .footerDetail",{"border-spacing":"0"}),this.StyleManager.AddStyleSet(".productDetail",{width:"100%"}),this.StyleManager.AddStyleSet(".productDetail .price",{"text-align":"right"}),this.StyleManager.AddStyleSet(".productDetail .name",{"text-align":"left"}),this.StyleManager.AddStyleSet(".footerDetail",{width:"300px","margin-left":"auto"}),this.StyleManager.AddStyleSet(".footerDetail th",{"text-align":"left"}),this.StyleManager.AddStyleSet(".footerDetail td",{"text-align":"right"}),this.StyleManager.AddStyleSet(".productTable td",{padding:"5px"}),this.StyleManager.AddStyleSet(".productTable td, .productTable th",{padding:"9px 5px"}),this.StyleManager.AddStyleSet(".productDetail th",{"background-color":"#336ed0"}),this.StyleManager.AddStyleSet(".productDetail th",{color:"white"}),this.StyleManager.AddStyleSet(".footerDetail .total",{"background-color":"#336ed0"}),this.StyleManager.AddStyleSet(".footerDetail .total",{color:"white"}),this.Options.RowSeparator==M.Line.toString()&&this.StyleManager.AddStyleSet(".productDetail td",{"border-bottom":"1px solid #dfdfdf"}),this.Options.RowSeparator==M.Stripped&&(this.StyleManager.AddStyleSet(".productDetail > tbody tr:nth-of-type(odd)",{"background-color":this.Options.OddBackground,color:this.Options.OddColor}),this.StyleManager.AddStyleSet(".productDetail tr:nth-of-type(even)",{"background-color":this.Options.EvenBackground,color:this.Options.EvenColor})),this.Options.RowSeparator==M.Line&&this.StyleManager.AddStyleSet(".productDetail td",{"border-bottom":"1px solid "+this.Options.BorderColor}),this.Options.RowSeparator==M.LastRow&&this.StyleManager.AddStyleSet(".productDetail tr:last-child td",{"border-bottom":"1px solid "+this.Options.BorderColor})}},{key:"NeedTranslations",value:function(){return!0}},{key:"GetTranslatedText",value:function(){return{text:""}}},{key:"GetFakeData",value:function(){return[{name:"My awesome product 1",price:10},{name:"My awesome product 2",price:20},{name:"My awesome product 3",price:30}]}},{key:"InternalGenerateHtml",value:function(t){var e=new F.a("productDetail productTable");t.append(e.Table),e.CreateTHead(),e.CreateRow();var n,r=K(this.Options.Columns);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.CreateTextColumn(o.Label,o.Type,"th")}}catch(t){r.e(t)}finally{r.f()}e.CreateTBody();var i,a=K(this.GetFakeData());try{for(a.s();!(i=a.n()).done;){var u=i.value;e.CreateRow();var l,s=K(this.Options.Columns);try{for(s.s();!(l=s.n()).done;){var c=l.value,f=u[c.Type];null==f&&(f=0),c.Format==D.number&&(f=B.a.GetInstance().FormatValue(f)),e.CreateTextColumn(f,c.Type)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){a.e(t)}finally{a.f()}if(this.Options.ShowGrandTotal){var d=new F.a("footerDetail productTable");t.append(d.Table),d.CreateTBody(),d.CreateRow(),d.CreateTextColumn(this.Options.GrandTotalLabel,"total","th"),d.CreateTextColumn(B.a.GetInstance().FormatValue(60),"total")}}},{key:"GetProperties",value:function(){var t=this,e=[];return e.push(new z.DropDownProperty(this,"RowSeparator").AddOption("None","none").AddOption("Line","line").AddOption("Stripped","stripped").AddOption("Last","last").OnChange((function(e){l.b.Publish(new N.UpdateFieldSettingsPanel),l.b.Publish(new U.UpdateStyleSettingsPanel),t.SetInitialStyles()}))),e.push(new p.SimpleTextProperty(this,"Label",this.Options.Columns.find((function(t){return t.Type==L.ProductName}))).SetLabel("Product Label")),e.push(new p.SimpleTextProperty(this,"Label",this.Options.Columns.find((function(t){return t.Type==L.Price}))).SetLabel("Price Label")),e.push(new v.CheckBoxProperty(this,"ShowGrandTotal").SetLabel("Show Grand Total").OnChange((function(t){l.b.Publish(new N.UpdateFieldSettingsPanel)}))),this.Options.ShowGrandTotal&&e.push(new p.SimpleTextProperty(this,"GrandTotalLabel").SetLabel("Grand total label")),[new f.GroupProperties("General (Field Id:"+this.Options.Id+")").AddProperties(e)]}},{key:"AfterRefresh",value:function(){}},{key:"GetInitialOptions",value:function(){return new Promise((function(t){t((new G).Merge({Styles:{Left:"2%",Width:"96%"},Columns:[{Label:"Product",Type:L.ProductName,Format:D.string},{Label:"Price",Type:L.Price,Format:D.number}]}))}))}},{key:"GenerateTable",value:function(t){}},{key:"InternalGetLabel",value:function(){return"Image"}},{key:"GetValueEditor",value:function(){return new y.ImageProperty(this,"URL").SetLabel("").SetWidth(100)}}])&&J(e.prototype,n),r&&J(e,r),i}(d.PDFControlBase);function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e&&nt(t.prototype,e),n&&nt(t,n),t}var ot,it=function(){function t(){et(this,t)}return rt(t,null,[{key:"GetControl",value:function(t){switch(t){case ot.InvoiceDetail:return new tt;default:return null}}}]),t}(),at=function(){function t(){et(this,t)}return rt(t,null,[{key:"GetControlOptions",value:function(t){switch(t){case ot.InvoiceDetail:return new G;default:return null}}}]),t}();function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dt(t);if(e){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.InvoiceDetail="InvoiceDetail"}(ot||(ot={}));var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(i,t);var e,n,r,o=ct(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).IsPR=!0,e.state={},e}return e=i,(n=[{key:"GetImage",value:function(){return"WPForm/invoice.png"}},{key:"GetText",value:function(){return"Product detail"}},{key:"GetType",value:function(){return ot.InvoiceDetail}}])&&lt(e.prototype,n),r&&lt(e,r),i}(c.FieldItemBase);ht.defaultProps={};var yt=n(0),pt=n(301),vt=n(300);l.b.Subscribe(s.GetAdvancedField,(function(t){return[yt.createElement(ht,null)]})),l.b.Subscribe(pt.GetControlOptions,(function(t){return at.GetControlOptions(t.Type)})),l.b.Subscribe(vt.GetControl,(function(t){return it.GetControl(t.Type)}))},77:function(t,e){t.exports=InternalShared("InternalShared/Events/UpdateFieldSettingsPanel")},9:function(t,e){t.exports=InternalShared("InternalShared/PageBuilder/Controls/Properties/styles/GroupProperties")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvc2hhcmVkL3V0aWxpdGllcy9FdmVudHMvRXZlbnRNYW5hZ2VyLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9zaGFyZWQvdXRpbGl0aWVzL0hUTUxUYWJsZUNyZWF0b3IvSFRNTFRhYmxlQ3JlYXRvci50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvc2hhcmVkL3V0aWxpdGllcy9TdG9yZS9TdG9yZUJhc2UudHMiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL0NvcmUvUERGQ29udHJvbEJhc2UnKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Db3JlL1BERkNvbnRyb2xCYXNlLk9wdGlvbnMnKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0NvbG9yUHJvcGVydHknKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL1N0eWxlU2V0cy9EaW1lbnNpb25TdHlsZVNldCcpXCIiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvRHJvcERvd25Qcm9wZXJ0eScpXCIiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvSW1hZ2VQcm9wZXJ0eScpXCIiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL3JlZmxlY3QtbWV0YWRhdGEvUmVmbGVjdC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldENvbnRyb2wnKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9FdmVudHMvR2V0Q29udHJvbE9wdGlvbnMnKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL1NpbXBsZVRleHRQcm9wZXJ0eScpXCIiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3NoYXJlZC91dGlsaXRpZXMvU2FuaXRpemVyLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvYXBwL1BhZ2VCdWlsZGVyL3V0aWxzL0N1cnJlbmN5VXRpbHMudHMiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwibW9ieFwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9FdmVudHMvR2V0QWR2YW5jZWRGaWVsZCcpXCIiLCJ3ZWJwYWNrOi8vW25hbWVdLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9DaGVja0JveFByb3BlcnR5JylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vZXh0ZXJuYWwgXCJJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvRmllbGRzL0ZpZWxkSXRlbUJhc2UnKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9FdmVudHMvVXBkYXRlU3R5bGVTZXR0aW5nc1BhbmVsJylcIiIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9hcHAvSW50ZWdyYXRpb24vV1BGb3JtL0NvbnRyb2xzL0ludm9pY2VEZXRhaWxDb250cm9sLk9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2FwcC9JbnRlZ3JhdGlvbi9XUEZvcm0vQ29udHJvbHMvSW52b2ljZURldGFpbENvbnRyb2wudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9hcHAvSW50ZWdyYXRpb24vV1BGb3JtL0NvbnRyb2xzL1dQRm9ybUZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2FwcC9JbnRlZ3JhdGlvbi9XUEZvcm0vRmllbGRJdGVtcy9JbnZvaWNlRGV0YWlsRmllbGQudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9hcHAvSW50ZWdyYXRpb24vV1BGb3JtL0Jvb3RzdHJhcC50c3giLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL0V2ZW50cy9VcGRhdGVGaWVsZFNldHRpbmdzUGFuZWwnKVwiIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIkludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL3N0eWxlcy9Hcm91cFByb3BlcnRpZXMnKVwiIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVhY3QiLCJFdmVudE1hbmFnZXIiLCJ3aW5kb3ciLCJSTkxvY2FsRXZlbnQiLCJMb2NhbEV2ZW50TWFuYWdlciIsImV2ZW50IiwiZGVmYXVsdFZhbHVlIiwiR2V0SW5zdGFuY2UiLCJQdWJsaXNoIiwiY2FsbEJhY2siLCJTdWJzY3JpYmUiLCJVbnN1YnNjcmliZUV2ZW50IiwiTG9jYWxFdmVudCIsIkV2ZW50cyIsImV2ZW50TmFtZSIsImNvbnN0cnVjdG9yIiwiR2V0TmFtZSIsInRoaXMiLCJldmVudHNUb0NhbGwiLCJyZXN1bHQiLCJldmVudFRvQ2FsbCIsImF1eCIsIkNhbGxCYWNrIiwicHVzaCIsIkV2ZW50SXRlbSIsImV2ZW50cyIsIml0ZW0iLCJmaW5kIiwieCIsInNwbGljZSIsImluZGV4T2YiLCJsZW5ndGgiLCJFdmVudCIsIlJldHVyblR5cGUiLCJFdmVudEJhc2UiLCJFcnJvciIsIkhUTUxUYWJsZUNyZWF0b3IiLCJjbGFzc2VzIiwiVGFibGUiLCJ0SGVhZCIsInRCb2R5IiwidEZvb3QiLCJsYXN0U2VjdGlvbkNyZWF0ZWQiLCJsYXN0Um93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY29sdW1uVHlwZSIsInNraXBQVGFnIiwiY29sdW1uIiwiaW5uZXJUZXh0IiwiU3RvcmVCYXNlIiwiSXNEaXJ0eSIsIl9maWVsZHMiLCJfZGVmYXVsdFZhbHVlc0xvYWRlZCIsImZpZWxkIiwiaW5kZXgiLCJwcm9wZXJ0eU5hbWUiLCJjYWxsQmFja3MiLCJpbnRlcm5hbENhbGxCYWNrIiwiTW9iWE9ic2VydmVFdmVudCIsIm1haW5TdWJzY3JpcHRpb24iLCJvYnNlcnZlIiwiZSIsIk9ic2VydmVTdWJQcm9wZXJ0aWVzIiwibmV3VmFsdWUiLCJVbnN1YnNjcmliZSIsImV2ZW50TWFuYWdlciIsIlN1YkVsZW1lbnRzVW5zdWJzY3JpYmUiLCIkbW9ieCIsInN1YlByb3BlcnR5IiwidmFsdWVzIiwic3ViRWxlbWVudHMiLCJQYXJzZUFuZFNldFZhbHVlIiwiaXRlbVRvTG9hZCIsIkxvYWREZWZhdWx0VmFsdWVzIiwiU2V0QXV0b0luY3JlbWVudElkcyIsIlN0b3JlQXV0b0luY3JlbWVudERpY3Rpb25hcnkiLCJhdXRvSW5jcmVtZW50RGljdGlvbmFyeSIsImN1cnJlbnRWYWx1ZSIsIlNhbml0aXplciIsIlNhbml0aXplTnVtYmVyIiwibGFzdE51bWJlciIsIk1hdGgiLCJtYXgiLCJsb2FkZXJWYWx1ZSIsIkdldFZhbHVlRnJvbUxvYWRlciIsIm51bWVyaWNWYWx1ZSIsInBhcnNlRmxvYXQiLCJ0b1N0cmluZyIsImlzTmFOIiwiQXJyYXkiLCJpc09ic2VydmFibGVBcnJheSIsInR5cGUiLCJSZWZsZWN0IiwiZ2V0TWV0YWRhdGEiLCJTdG9yZUtleSIsIlN0cmluZyIsIk51bWJlciIsIm5ld1ZhbHVlSXRlbSIsIk1lcmdlIiwiaXNWYWxpZCIsIlZhbGlkYXRlIiwidG9KUyIsIlNlcmlhbGl6ZU9iamVjdCIsImNhbGxiYWNrIiwiaW50ZXJjZXB0IiwiZmllbGRzVG9SZW1vdmUiLCJpc0FycmF5IiwiU2VyaWFsaXplQXJyYXkiLCJhcnJheSIsIlN0b3JlRGF0YVR5cGUiLCJtZXRhZGF0YSIsInN1YmVsZW1lbnQiLCJTdG9yZUF1dG9JbmNyZW1lbnQiLCJ1bmlxdWVJZCIsInRhcmdldCIsImRlc2NyaXB0aW9uIiwiSW50ZXJuYWxTaGFyZWQiLCJmYWN0b3J5Iiwicm9vdCIsImdsb2JhbCIsInNlbGYiLCJGdW5jdGlvbiIsImV4cG9ydGVyIiwibWFrZUV4cG9ydGVyIiwicHJldmlvdXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImhhc093biIsInN1cHBvcnRzU3ltYm9sIiwidG9QcmltaXRpdmVTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJzdXBwb3J0c0NyZWF0ZSIsInN1cHBvcnRzUHJvdG8iLCJfX3Byb3RvX18iLCJkb3duTGV2ZWwiLCJIYXNoTWFwIiwiTWFrZURpY3Rpb25hcnkiLCJoYXMiLCJtYXAiLCJ1bmRlZmluZWQiLCJmdW5jdGlvblByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwidXNlUG9seWZpbGwiLCJwcm9jZXNzIiwiZW52IiwiX01hcCIsIk1hcCIsImVudHJpZXMiLCJjYWNoZVNlbnRpbmVsIiwiYXJyYXlTZW50aW5lbCIsIk1hcEl0ZXJhdG9yIiwia2V5cyIsInNlbGVjdG9yIiwiX2luZGV4IiwiX2tleXMiLCJfdmFsdWVzIiwiX3NlbGVjdG9yIiwibmV4dCIsImRvbmUiLCJ0aHJvdyIsImVycm9yIiwicmV0dXJuIiwiX2NhY2hlS2V5IiwiX2NhY2hlSW5kZXgiLCJfZmluZCIsInNldCIsImRlbGV0ZSIsInNpemUiLCJjbGVhciIsImdldEtleSIsImdldFZhbHVlIiwiZ2V0RW50cnkiLCJpbnNlcnQiLCJfIiwiQ3JlYXRlTWFwUG9seWZpbGwiLCJfU2V0IiwiU2V0IiwiX21hcCIsImFkZCIsIk1ldGFkYXRhIiwiV2Vha01hcCIsInJvb3RLZXkiLCJDcmVhdGVVbmlxdWVLZXkiLCJfa2V5IiwidGFibGUiLCJHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSIsIkNyZWF0ZVVVSUQiLCJGaWxsUmFuZG9tQnl0ZXMiLCJidWZmZXIiLCJyYW5kb20iLCJkYXRhIiwiVWludDhBcnJheSIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIm1zQ3J5cHRvIiwib2Zmc2V0IiwiYnl0ZSIsInRvTG93ZXJDYXNlIiwiQ3JlYXRlV2Vha01hcFBvbHlmaWxsIiwiR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCIsIk8iLCJQIiwiQ3JlYXRlIiwidGFyZ2V0TWV0YWRhdGEiLCJJc1VuZGVmaW5lZCIsIm1ldGFkYXRhTWFwIiwiT3JkaW5hcnlIYXNPd25NZXRhZGF0YSIsIk1ldGFkYXRhS2V5IiwiT3JkaW5hcnlHZXRPd25NZXRhZGF0YSIsIk9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEiLCJNZXRhZGF0YVZhbHVlIiwiT3JkaW5hcnlPd25NZXRhZGF0YUtleXMiLCJvYmoiLCJtZXRob2QiLCJHZXRNZXRob2QiLCJJc0NhbGxhYmxlIiwiVHlwZUVycm9yIiwiSXNPYmplY3QiLCJHZXRJdGVyYXRvciIsImsiLCJJdGVyYXRvclN0ZXAiLCJuZXh0VmFsdWUiLCJJdGVyYXRvckNsb3NlIiwiVHlwZSIsIklzTnVsbCIsIlRvUHJpbWl0aXZlIiwiaW5wdXQiLCJQcmVmZXJyZWRUeXBlIiwiaGludCIsImV4b3RpY1RvUHJpbSIsInRvU3RyaW5nXzEiLCJ2YWx1ZU9mIiwidG9TdHJpbmdfMiIsIk9yZGluYXJ5VG9QcmltaXRpdmUiLCJUb1Byb3BlcnR5S2V5IiwiYXJndW1lbnQiLCJUb1N0cmluZyIsIklzQXJyYXkiLCJJc0NvbnN0cnVjdG9yIiwiViIsImZ1bmMiLCJmIiwiT3JkaW5hcnlHZXRQcm90b3R5cGVPZiIsInByb3RvIiwicHJvdG90eXBlUHJvdG8iLCJfXyIsImRlY29yYXRvcnMiLCJwcm9wZXJ0eUtleSIsImF0dHJpYnV0ZXMiLCJkZWNvcmF0ZWQiLCJkZWNvcmF0b3IiLCJEZWNvcmF0ZUNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvciIsIkRlY29yYXRlUHJvcGVydHkiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJJc1Byb3BlcnR5S2V5IiwiT3JkaW5hcnlIYXNNZXRhZGF0YSIsInBhcmVudCIsIk9yZGluYXJ5R2V0TWV0YWRhdGEiLCJPcmRpbmFyeU1ldGFkYXRhS2V5cyIsIm93bktleXMiLCJwYXJlbnRLZXlzIiwiX2kiLCJvd25LZXlzXzEiLCJfYSIsInBhcmVudEtleXNfMSIsImNsZWFyV2hlbk5vdEFycmF5IiwiU2FuaXRpemVTdHJpbmciLCJwYXRoIiwibmV4dFByb3BlcnR5Iiwic2hpZnQiLCJHZXRWYWx1ZUZyb21QYXRoIiwiQ3VycmVuY3lVdGlscyIsIkNvbmZpZyIsIlJOQ3VycmVuY3lVdGlscyIsImFtb3VudCIsInRleHQiLCJ0b0ZpeGVkIiwiTnVtYmVyT2ZEZWNpbWFscyIsInNwbGl0IiwieDEiLCJ4MiIsInJneCIsIlRob3VzYW5kU2VwYXJhdG9yIiwidGVzdCIsInJlcGxhY2UiLCJzbGljZSIsIkRlY2ltYWxTZXBhcmF0b3IiLCJQb3NpdGlvbiIsIm1vYngiLCJnIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIkludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bSIsIkludm9pY2VEZXRhaWxDb2x1bW5Gb3JtYXRFbnVtIiwiUm93U2VwYXJhdG9yRW51bSIsIkludm9pY2VEZXRhaWxDb2x1bW4iLCJMYWJlbCIsIkZvcm1hdCIsInN0cmluZyIsIkludm9pY2VEZXRhaWxDb250cm9sT3B0aW9ucyIsIlNob3dHcmFuZFRvdGFsIiwiUHJvZHVjdExhYmVsIiwiUHJpY2VMYWJlbCIsIkdyYW5kVG90YWxMYWJlbCIsIlJvd1NlcGFyYXRvciIsIkV2ZW5Db2xvciIsIkV2ZW5CYWNrZ3JvdW5kIiwiT2RkQ29sb3IiLCJPZGRCYWNrZ3JvdW5kIiwiQm9yZGVyQ29sb3IiLCJXUEZvcm1Db250cm9sVHlwZUVudW0iLCJJbnZvaWNlRGV0YWlsIiwiQ29sdW1ucyIsIlN0cmlwcGVkIiwiUERGQ29udHJvbEJhc2VPcHRpb25zIiwib2JzZXJ2YWJsZSIsIkludm9pY2VEZXRhaWxDb250cm9sIiwiQWxsb3dlZFJlc2l6ZURpcmVjdGlvbiIsIk9wdGlvbnMiLCJwcm9wZXJ0aWVzIiwiRGltZW5zaW9uU3R5bGVTZXQiLCJHZXRTdHlsZXMiLCJHcm91cFByb3BlcnRpZXMiLCJBZGRQcm9wZXJ0aWVzIiwiQ29sb3JQcm9wZXJ0eSIsIlN0eWxlTWFuYWdlciIsIkNyZWF0ZVN0eWxlQ2xhc3NNYW5hZ2VyIiwiU2V0TGFiZWwiLCJBZGRTdHlsZXMiLCJ3aWR0aCIsImRpc3BsYXkiLCJPbkNoYW5nZSIsIlNldEluaXRpYWxTdHlsZXMiLCJMaW5lIiwiTGFzdFJvdyIsIk5vbmUiLCJDbGVhckZpZWxkU3R5bGVzIiwiQWRkU3R5bGVTZXQiLCJwcmljZSIsIiRjb250YWluZXIiLCJjcmVhdG9yIiwiYXBwZW5kIiwiQ3JlYXRlVEhlYWQiLCJDcmVhdGVSb3ciLCJDcmVhdGVUZXh0Q29sdW1uIiwiQ3JlYXRlVEJvZHkiLCJHZXRGYWtlRGF0YSIsInJvdyIsIm51bWJlciIsIkZvcm1hdFZhbHVlIiwiZm9vdENyZWF0b3IiLCJEcm9wRG93blByb3BlcnR5IiwiQWRkT3B0aW9uIiwiVXBkYXRlRmllbGRTZXR0aW5nc1BhbmVsIiwiVXBkYXRlU3R5bGVTZXR0aW5nc1BhbmVsIiwiU2ltcGxlVGV4dFByb3BlcnR5IiwiUHJvZHVjdE5hbWUiLCJQcmljZSIsIkNoZWNrQm94UHJvcGVydHkiLCJJZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiU3R5bGVzIiwiTGVmdCIsIldpZHRoIiwiY29udGFpbmVyIiwiSW1hZ2VQcm9wZXJ0eSIsIlNldFdpZHRoIiwiUERGQ29udHJvbEJhc2UiLCJXUEZvcm1Db250cm9sRmFjdG9yeSIsImNvbnRyb2xUeXBlIiwiV1BGb3JtQ29udHJvbE9wdGlvbnNGYWN0b3J5IiwiSW52b2ljZURldGFpbEZpZWxkIiwicHJvcHMiLCJJc1BSIiwic3RhdGUiLCJGaWVsZEl0ZW1CYXNlIiwiZGVmYXVsdFByb3BzIiwiR2V0QWR2YW5jZWRGaWVsZCIsIkdldENvbnRyb2xPcHRpb25zIiwiR2V0Q29udHJvbCJdLCJtYXBwaW5ncyI6IjhCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRy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LEVBQ2YsUUFDSSxPQUFPLFVBUHZCLEssZ3VDQWdCWVcsSywrQkFBQUEsUSxLQ3ZDTCxJQUFNOEQsR0FBYixhLG1PQUFBLFUsTUFBQSxRQUlJLFdBQVlDLEdBQTJCLGEsNEZBQUEsVUFDbkMsY0FBTUEsSUFIVkMsTUFBYSxFQUlULEVBQUtDLE1BQVEsR0FGc0IsRUFKM0MsTyxFQUFBLEcsRUFBQSxrQ0FZUSxNQUFPLHVCQVpmLGdDQWdCUSxNQUFPLG1CQWhCZixnQ0FvQlEsT0FBT2pFLEdBQXNCQyxtQiw2QkFwQnJDLEdBQXdDaUUsaUJBQTNCSixHQUNGSyxhQUE0QyxHLGdDQ0N2RDVhLElBQWFTLFVBQVVvYSxvQkFBaUIsU0FBQTdXLEdBQ3BDLE1BQU0sQ0FDRixpQkFBQyxHQUFELFVBS1JoRSxJQUFhUyxVQUFVcWEsc0JBQWtCLFNBQUE5VyxHQUFDLE9BQUVzVyxHQUE0QlEsa0JBQWtCOVcsRUFBRW9LLFNBQzVGcE8sSUFBYVMsVUFBVXNhLGVBQVcsU0FBQS9XLEdBQUMsT0FBRW9XLEdBQXFCVyxXQUFXL1csRUFBRW9LLFUsaUJDakJ2RXRRLEVBQU9ELFFBQVUwSixlQUFlLG1ELGdCQ0FoQ3pKLEVBQU9ELFFBQVUwSixlQUFlIiwiZmlsZSI6IldQRm9ybUJ1aWxkZXJfYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDc2Myk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsImV4cG9ydCBjbGFzcyBFdmVudE1hbmFnZXJ7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBMb2NhbEV2ZW50OkxvY2FsRXZlbnRNYW5hZ2VyPW51bGw7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBHZXRJbnN0YW5jZSgpOkxvY2FsRXZlbnRNYW5hZ2Vye1xyXG4gICAgICAgIGlmKCh3aW5kb3cgYXMgYW55KS5STkxvY2FsRXZlbnQ9PW51bGwpXHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5STkxvY2FsRXZlbnQ9bmV3IExvY2FsRXZlbnRNYW5hZ2VyKCk7XHJcbiAgICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5STkxvY2FsRXZlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBQdWJsaXNoPFQgZXh0ZW5kcyBFdmVudEJhc2U+KGV2ZW50OlQsZGVmYXVsdFZhbHVlOmFueT1udWxsKTpUWydSZXR1cm5UeXBlJ117XHJcbiAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5HZXRJbnN0YW5jZSgpLlB1Ymxpc2g8VD4oZXZlbnQsZGVmYXVsdFZhbHVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTdWJzY3JpYmU8VCBleHRlbmRzIEV2ZW50QmFzZT4oZXZlbnQ6e25ldyguLi5hbnkpOlR9LGNhbGxCYWNrOihhcmdzPzpUKT0+dm9pZClcclxuICAgIHtcclxuICAgICAgICBFdmVudE1hbmFnZXIuR2V0SW5zdGFuY2UoKS5TdWJzY3JpYmUoZXZlbnQsY2FsbEJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgVW5zdWJzY3JpYmVFdmVudDxUIGV4dGVuZHMgRXZlbnRCYXNlPihldmVudDp7bmV3KC4uLmFueSk6VH0sY2FsbEJhY2s6KGFyZ3M/OlQpPT52b2lkKVxyXG4gICAge1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5HZXRJbnN0YW5jZSgpLlVuc3Vic2NyaWJlRXZlbnQoZXZlbnQsY2FsbEJhY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvY2FsRXZlbnRNYW5hZ2Vye1xyXG5cclxuICAgIHByaXZhdGUgRXZlbnRzOmFueT17fTtcclxuXHJcbiAgICBwdWJsaWMgUHVibGlzaDxUIGV4dGVuZHMgRXZlbnRCYXNlPihldmVudDpULGRlZmF1bHRWYWx1ZTphbnk9bnVsbCk6VFsnUmV0dXJuVHlwZSdde1xyXG4gICAgICAgIGxldCBldmVudE5hbWU9KGV2ZW50LmNvbnN0cnVjdG9yIGFzIGFueSkuR2V0TmFtZSgpO1xyXG4gICAgICAgIGlmKHRoaXMuRXZlbnRzW2V2ZW50TmFtZV09PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIGxldCBldmVudHNUb0NhbGw6RXZlbnRJdGVtW109dGhpcy5FdmVudHNbZXZlbnROYW1lXTtcclxuICAgICAgICBsZXQgcmVzdWx0PW51bGw7XHJcbiAgICAgICAgZm9yKGxldCBldmVudFRvQ2FsbCBvZiBldmVudHNUb0NhbGwpIHtcclxuICAgICAgICAgICAgbGV0IGF1eDtcclxuICAgICAgICAgICAgYXV4ID0gZXZlbnRUb0NhbGwuQ2FsbEJhY2soZXZlbnQpO1xyXG4gICAgICAgICAgICBpZihhdXghPW51bGwpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQ9YXV4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocmVzdWx0PT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBTdWJzY3JpYmU8VCBleHRlbmRzIEV2ZW50QmFzZT4oZXZlbnQ6e25ldygpOlR9LGNhbGxCYWNrOihhcmdzPzpUKT0+dm9pZClcclxuICAgIHtcclxuICAgICAgICBsZXQgZXZlbnROYW1lPShldmVudCBhcyBhbnkpLkdldE5hbWUoKTtcclxuICAgICAgICBpZih0aGlzLkV2ZW50c1tldmVudE5hbWVdPT1udWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5FdmVudHNbZXZlbnROYW1lXT1bXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuRXZlbnRzW2V2ZW50TmFtZV0ucHVzaChuZXcgRXZlbnRJdGVtKGV2ZW50IGFzIGFueSxjYWxsQmFjaykpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgVW5zdWJzY3JpYmVFdmVudDxUIGV4dGVuZHMgRXZlbnRCYXNlPihldmVudDp7bmV3KC4uLmFueSk6VH0sY2FsbEJhY2s6KGFyZ3M/OlQpPT52b2lkKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBldmVudE5hbWU9KGV2ZW50IGFzIGFueSkuR2V0TmFtZSgpO1xyXG4gICAgICAgIGxldCBldmVudHM6RXZlbnRJdGVtW109dGhpcy5FdmVudHNbZXZlbnROYW1lXTtcclxuICAgICAgICBpZihldmVudHM9PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IGl0ZW09ZXZlbnRzLmZpbmQoeD0+eC5DYWxsQmFjaz09Y2FsbEJhY2spO1xyXG4gICAgICAgIGlmKGl0ZW0hPW51bGwpXHJcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UoZXZlbnRzLmluZGV4T2YoaXRlbSksMSk7XHJcblxyXG4gICAgICAgIGlmKGV2ZW50cy5sZW5ndGg9PTApXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLkV2ZW50c1tldmVudE5hbWVdO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXZlbnRJdGVtPFQ9YW55PntcclxuICAgIEV2ZW50OkV2ZW50QmFzZTtcclxuICAgIENhbGxCYWNrOihhcmdzPzpUKT0+dm9pZHxhbnk7XHJcbiAgICBwcm90ZWN0ZWQgUmV0dXJuVHlwZTpUO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGV2ZW50OkV2ZW50QmFzZSxjYWxsQmFjazooYXJncz86VCk9PnZvaWR8YW55KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuRXZlbnQ9ZXZlbnQ7XHJcbiAgICAgICAgdGhpcy5DYWxsQmFjaz1jYWxsQmFjaztcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV2ZW50QmFzZXtcclxuICAgIHB1YmxpYyBSZXR1cm5UeXBlOmFueTtcclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0TmFtZSgpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmFtZSB3YXMgbm90IGRlZmluZWQnKTtcclxuICAgIH1cclxuXHJcbn0iLCJcclxuZXhwb3J0IGNsYXNzIEhUTUxUYWJsZUNyZWF0b3Ige1xyXG4gICAgcHVibGljIFRhYmxlOkhUTUxUYWJsZUVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRIZWFkOkhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB0Qm9keTpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgdEZvb3Q6SFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGxhc3RTZWN0aW9uQ3JlYXRlZDpIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgbGFzdFJvdzpIVE1MVGFibGVSb3dFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoY2xhc3NlczpzdHJpbmc9Jycpe1xyXG4gICAgICAgIHRoaXMuVGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcclxuICAgICAgICB0aGlzLlRhYmxlLmNsYXNzTmFtZT1jbGFzc2VzO1xyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZVRIZWFkKGNsYXNzZXM6c3RyaW5nPScnKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMudEhlYWQ9PW51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy50SGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJyk7XHJcbiAgICAgICAgICAgIHRoaXMudEhlYWQuY2xhc3NOYW1lPWNsYXNzZXM7XHJcbiAgICAgICAgICAgIHRoaXMuVGFibGUuYXBwZW5kQ2hpbGQodGhpcy50SGVhZCk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFNlY3Rpb25DcmVhdGVkPXRoaXMudEhlYWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZVRCb2R5KGNsYXNzZXM6c3RyaW5nPScnKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMudEJvZHk9PW51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy50Qm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMudEJvZHkuY2xhc3NOYW1lPWNsYXNzZXM7XHJcbiAgICAgICAgICAgIHRoaXMuVGFibGUuYXBwZW5kQ2hpbGQodGhpcy50Qm9keSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFNlY3Rpb25DcmVhdGVkPXRoaXMudEJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZVRGb290KGNsYXNzZXM6c3RyaW5nPScnKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMudEZvb3Q9PW51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy50Rm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rmb290Jyk7XHJcbiAgICAgICAgICAgIHRoaXMudEZvb3QuY2xhc3NOYW1lPWNsYXNzZXM7XHJcbiAgICAgICAgICAgIHRoaXMuVGFibGUuYXBwZW5kQ2hpbGQodGhpcy50Rm9vdCk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFNlY3Rpb25DcmVhdGVkPXRoaXMudEZvb3Q7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZVJvdyhjbGFzc2VzOnN0cmluZz0nJyl7XHJcbiAgICAgICAgaWYodGhpcy5sYXN0U2VjdGlvbkNyZWF0ZWQ9PW51bGwpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdGJvZHkgb3IgdGhlYWQgd2FzIGNyZWF0ZWQgeWV0Jyk7XHJcblxyXG4gICAgICAgIHRoaXMubGFzdFJvdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICAgIHRoaXMubGFzdFJvdy5jbGFzc05hbWU9Y2xhc3NlcztcclxuICAgICAgICB0aGlzLmxhc3RTZWN0aW9uQ3JlYXRlZC5hcHBlbmRDaGlsZCh0aGlzLmxhc3RSb3cpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgQ3JlYXRlVGV4dENvbHVtbihlbGVtZW50LGNsYXNzZXM6c3RyaW5nPScnLGNvbHVtblR5cGU6J3RoJ3wndGQnPSd0ZCcsc2tpcFBUYWc9ZmFsc2UpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGxldCBjb2x1bW49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb2x1bW5UeXBlKTtcclxuICAgICAgICBjb2x1bW4uY2xhc3NOYW1lPWNsYXNzZXM7XHJcbiAgICAgICAgdGhpcy5sYXN0Um93LmFwcGVuZENoaWxkKGNvbHVtbik7XHJcblxyXG4gICAgICAgIGxldCBwOmFueTtcclxuICAgICAgICBpZihza2lwUFRhZylcclxuICAgICAgICAgICAgcD1jb2x1bW47XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcC5pbm5lclRleHQ9ZWxlbWVudDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgQ3JlYXRlUmF3Q29sdW1uKGVsZW1lbnQsY2xhc3NlczpzdHJpbmc9JycsY29sdW1uVHlwZTondGgnfCd0ZCc9J3RkJylcclxuICAgIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbHVtbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGNvbHVtblR5cGUpO1xyXG4gICAgICAgIGNvbHVtbi5jbGFzc05hbWU9Y2xhc3NlcztcclxuICAgICAgICB0aGlzLmxhc3RSb3cuYXBwZW5kQ2hpbGQoY29sdW1uKTtcclxuICAgICAgICBjb2x1bW4uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIGNvbHVtbjtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQge0lJbnRlcmNlcHRvciwgaW50ZXJjZXB0LCBpc09ic2VydmFibGVBcnJheSwgSVZhbHVlV2lsbENoYW5nZSwgdG9KU30gZnJvbSBcIm1vYnhcIjtcclxuaW1wb3J0IHtTdG9yZUNvbnRyb2x9IGZyb20gXCIuLi8uLi9jb250cm9scy9iYXNlL1N0b3JlQ29udHJvbFwiO1xyXG5pbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xyXG5pbXBvcnQge29ic2VydmV9IGZyb20gXCJtb2J4XCI7XHJcbmltcG9ydCB7U2FuaXRpemVyfSBmcm9tIFwic2hhcmVkL3V0aWxpdGllcy9TYW5pdGl6ZXJcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdG9yZUJhc2Uge1xyXG5cclxuICAgIElzRGlydHk6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHByaXZhdGUgX2ZpZWxkczpTdG9yZUNvbnRyb2w8YW55LGFueT5bXT1bXTtcclxuICAgIHByaXZhdGUgX2RlZmF1bHRWYWx1ZXNMb2FkZWQ6Ym9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWVzTG9hZGVkPWZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIEFkZEZpZWxkKGZpZWxkOlN0b3JlQ29udHJvbDxhbnksYW55Pil7XHJcbiAgICAgICAgaWYodGhpcy5fZmllbGRzPT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5fZmllbGRzLnB1c2goZmllbGQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBSZW1vdmVGaWVsZChmaWVsZDpTdG9yZUNvbnRyb2w8YW55LGFueT4pXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy5fZmllbGRzPT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgbGV0IGluZGV4PXRoaXMuX2ZpZWxkcy5pbmRleE9mKGZpZWxkKTtcclxuICAgICAgICBpZihpbmRleD49MClcclxuICAgICAgICAgICAgdGhpcy5fZmllbGRzLnNwbGljZShpbmRleCwxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgT2JzZXJ2ZShwcm9wZXJ0eU5hbWU6c3RyaW5nLGNhbGxCYWNrczoocGFyYW1zOmFueSk9PnZvaWQpOigpPT52b2lke1xyXG5cclxuICAgICAgICBsZXQgaW50ZXJuYWxDYWxsQmFjaz0oKT0+e2NhbGxCYWNrcyh0aGlzW3Byb3BlcnR5TmFtZV0pO307XHJcbiAgICAgICAgbGV0IGV2ZW50PW5ldyBNb2JYT2JzZXJ2ZUV2ZW50KCk7XHJcblxyXG4gICAgICAgIGV2ZW50Lm1haW5TdWJzY3JpcHRpb249b2JzZXJ2ZSh0aGlzIGFzIGFueSxwcm9wZXJ0eU5hbWUsKGUpPT57XHJcbiAgICAgICAgICAgIGludGVybmFsQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgdGhpcy5PYnNlcnZlU3ViUHJvcGVydGllcyhlLm5ld1ZhbHVlLGludGVybmFsQ2FsbEJhY2ssZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuT2JzZXJ2ZVN1YlByb3BlcnRpZXModGhpc1twcm9wZXJ0eU5hbWVdLGludGVybmFsQ2FsbEJhY2ssZXZlbnQpO1xyXG4gICAgICAgIHJldHVybiBldmVudC5VbnN1YnNjcmliZS5iaW5kKGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIE9ic2VydmVTdWJQcm9wZXJ0aWVzKG9iamVjdDphbnksaW50ZXJuYWxDYWxsQmFjazphbnksZXZlbnRNYW5hZ2VyOk1vYlhPYnNlcnZlRXZlbnQpe1xyXG4gICAgICAgIGV2ZW50TWFuYWdlci5TdWJFbGVtZW50c1Vuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgaWYob2JqZWN0PT1udWxsfHx0eXBlb2Ygb2JqZWN0LiRtb2J4ID09XCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGZvcihsZXQgc3ViUHJvcGVydHkgaW4gb2JqZWN0LiRtb2J4LnZhbHVlcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGV2ZW50TWFuYWdlci5zdWJFbGVtZW50cy5wdXNoKG9ic2VydmUob2JqZWN0LHN1YlByb3BlcnR5LChlKT0+e1xyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxDYWxsQmFjaygpO1xyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0VmFsdWUocHJvcGVydHk6a2V5b2YgdGhpc3xhbnkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRWYWx1ZShwcm9wZXJ0eTprZXlvZiB0aGlzfGFueSx2YWx1ZTphbnkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuUGFyc2VBbmRTZXRWYWx1ZShwcm9wZXJ0eSx2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IExvYWREZWZhdWx0VmFsdWVzKCk7XHJcblxyXG4gICAgcHVibGljIE1lcmdlPEsgZXh0ZW5kcyBrZXlvZiB0aGlzPihpdGVtVG9Mb2FkOlBhcnRpYWw8dGhpcz58YW55PW51bGwpe1xyXG4gICAgICAgIGlmKCF0aGlzLl9kZWZhdWx0VmFsdWVzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9hZERlZmF1bHRWYWx1ZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlc0xvYWRlZD10cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpdGVtVG9Mb2FkPT1udWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0QXV0b0luY3JlbWVudElkcygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBwcm9wZXJ0eU5hbWUgaW4gaXRlbVRvTG9hZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKCh0aGlzIGFzIGFueSkuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlOmFueT1pdGVtVG9Mb2FkW3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLlBhcnNlQW5kU2V0VmFsdWUocHJvcGVydHlOYW1lLHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLlNldEF1dG9JbmNyZW1lbnRJZHMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIFNldEF1dG9JbmNyZW1lbnRJZHMoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCh0aGlzIGFzIGFueSkuU3RvcmVBdXRvSW5jcmVtZW50RGljdGlvbmFyeT09bnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgYXV0b0luY3JlbWVudERpY3Rpb25hcnk9KHRoaXMgYXMgYW55KS5TdG9yZUF1dG9JbmNyZW1lbnREaWN0aW9uYXJ5O1xyXG4gICAgICAgIGZvcihsZXQgcHJvcGVydHlOYW1lIGluIHRoaXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighKHRoaXMgYXMgYW55KS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgYXV0b0luY3JlbWVudElkPW51bGw7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYoYXV0b0luY3JlbWVudERpY3Rpb25hcnlbcHJvcGVydHlOYW1lXT09bnVsbClcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VmFsdWU6YW55PVNhbml0aXplci5TYW5pdGl6ZU51bWJlcih0aGlzW3Byb3BlcnR5TmFtZV0pO1xyXG4gICAgICAgICAgICBpZihjdXJyZW50VmFsdWU9PTB8fGN1cnJlbnRWYWx1ZT09bnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhc3ROdW1iZXI9YXV0b0luY3JlbWVudERpY3Rpb25hcnlbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgICsrbGFzdE51bWJlcjtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXT1sYXN0TnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhdXRvSW5jcmVtZW50RGljdGlvbmFyeVtwcm9wZXJ0eU5hbWVdPU1hdGgubWF4KCh0aGlzIGFzIGFueSlbcHJvcGVydHlOYW1lXSxhdXRvSW5jcmVtZW50RGljdGlvbmFyeVtwcm9wZXJ0eU5hbWVdKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgUGFyc2VBbmRTZXRWYWx1ZShwcm9wZXJ0eU5hbWUsdmFsdWU6YW55KXtcclxuICAgICAgICBsZXQgY3VycmVudFZhbHVlPXRoaXNbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICBsZXQgbG9hZGVyVmFsdWU9dGhpcy5HZXRWYWx1ZUZyb21Mb2FkZXIocHJvcGVydHlOYW1lLHZhbHVlKTtcclxuICAgICAgICBpZihsb2FkZXJWYWx1ZSE9bnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICh0aGlzIGFzIGFueSlbcHJvcGVydHlOYW1lXT1sb2FkZXJWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoY3VycmVudFZhbHVlIT1udWxsJiYgY3VycmVudFZhbHVlLkxvYWREZWZhdWx0VmFsdWVzIT1udWxsKSB7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlIT1udWxsJiZ2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnX2ZpZWxkcycpJiZ2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnX2RlZmF1bHRWYWx1ZXNMb2FkZWQnKSlcclxuICAgICAgICAgICAgICAgICh0aGlzIGFzIGFueSlbcHJvcGVydHlOYW1lXT12YWx1ZTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgKHRoaXMgYXMgYW55KVtwcm9wZXJ0eU5hbWVdLk1lcmdlKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodHlwZW9mIGN1cnJlbnRWYWx1ZT09J251bWJlcicpIHtcclxuICAgICAgICAgICAgbGV0IG51bWVyaWNWYWx1ZT1wYXJzZUZsb2F0KHZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZihpc05hTihudW1lcmljVmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgbnVtZXJpY1ZhbHVlPTA7XHJcbiAgICAgICAgICAgICh0aGlzIGFzIGFueSlbcHJvcGVydHlOYW1lXSA9IG51bWVyaWNWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodHlwZW9mIGN1cnJlbnRWYWx1ZT09J2Jvb2xlYW4nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoIWlzTmFOKHZhbHVlKSlcclxuICAgICAgICAgICAgICAgICh0aGlzIGFzIGFueSlbcHJvcGVydHlOYW1lXT12YWx1ZT09PXRydWV8fHBhcnNlRmxvYXQodmFsdWUpPT0xO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAodGhpcyBhcyBhbnkpW3Byb3BlcnR5TmFtZV09dmFsdWU9PSd0cnVlJztcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBjdXJyZW50VmFsdWU9PSdzdHJpbmcnKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgKHRoaXMgYXMgYW55KVtwcm9wZXJ0eU5hbWVdPXZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjdXJyZW50VmFsdWUhPW51bGwmJiBjdXJyZW50VmFsdWUuY29uc3RydWN0b3I9PUFycmF5fHxpc09ic2VydmFibGVBcnJheShjdXJyZW50VmFsdWUpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHR5cGU9KFJlZmxlY3QgYXMgYW55KS5nZXRNZXRhZGF0YShTdG9yZUtleSx0aGlzLHByb3BlcnR5TmFtZSkgYXMgdHlwZW9mIFN0b3JlQmFzZTtcclxuICAgICAgICAgICAgaWYodHlwZT09bnVsbClcclxuICAgICAgICAgICAgICAgIHRocm93ICdQcm9wZXJ0eSAnK3Byb3BlcnR5TmFtZSsnIG9mIGNsYXNzICcrKHRoaXMgYXMgYW55KS5jb25zdHJ1Y3Rvci5uYW1lKycgaXMgYW4gYXJyYXkgYnV0IGRvZXMgbm90IGhhdmUgdGhlIE9wdGlvblR5cGUgZGVjb3JhdG9yIGltcGxlbWVudGVkJztcclxuXHJcbiAgICAgICAgICAgICh0aGlzW3Byb3BlcnR5TmFtZV0gYXMgYW55KT1bXTtcclxuICAgICAgICAgICAgaWYoKHR5cGUgYXMgYW55KT09U3RyaW5nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5TmFtZV09dmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpZigodHlwZSBhcyBhbnkpPT1OdW1iZXIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXT12YWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IobGV0IG5ld1ZhbHVlSXRlbSBvZiB2YWx1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBpZihuZXdWYWx1ZUl0ZW0hPW51bGwmJm5ld1ZhbHVlSXRlbS5oYXNPd25Qcm9wZXJ0eSgnX2ZpZWxkcycpJiZuZXdWYWx1ZUl0ZW0uaGFzT3duUHJvcGVydHkoJ19kZWZhdWx0VmFsdWVzTG9hZGVkJykpXHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXNbcHJvcGVydHlOYW1lXSBhcyBhbnkpLnB1c2gobmV3VmFsdWVJdGVtKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAodGhpc1twcm9wZXJ0eU5hbWVdIGFzIGFueSkucHVzaChuZXcgKHR5cGUgYXMgYW55KSgpLk1lcmdlKG5ld1ZhbHVlSXRlbSkpO1xyXG5cdFx0XHR9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdHlwZT0oUmVmbGVjdCBhcyBhbnkpLmdldE1ldGFkYXRhKFN0b3JlS2V5LHRoaXMscHJvcGVydHlOYW1lKSBhcyBhbnk7XHJcbiAgICAgICAgaWYodHlwZT09T2JqZWN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdPXZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHRocm93ICdDb3VsZCBub3QgcHJvY2VzcyB0eXBlICcrIHR5cGVvZiBjdXJyZW50VmFsdWUrJyBvZiAnK3Byb3BlcnR5TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgR2V0VmFsdWVGcm9tTG9hZGVyKHByb3BlcnR5OmtleW9mIHRoaXMsdmFsdWU6YW55KTphbnlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBWYWxpZGF0ZSgpe1xyXG4gICAgICAgIGxldCBpc1ZhbGlkPXRydWU7XHJcbiAgICAgICAgaWYodGhpcy5fZmllbGRzPT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICBmb3IobGV0IGZpZWxkIG9mIHRoaXMuX2ZpZWxkcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKCFmaWVsZC5WYWxpZGF0ZSgpKVxyXG4gICAgICAgICAgICAgICAgaXNWYWxpZD1mYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgVG9PYmplY3QoKXtcclxuICAgICAgIGxldCBvYmplY3Q9dG9KUyh0aGlzKTtcclxuICAgICAgIHJldHVybiB0aGlzLlNlcmlhbGl6ZU9iamVjdChvYmplY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTdWJzY3JpYmUocHJvcGVydHlOYW1lOmtleW9mIHRoaXMsY2FsbGJhY2s6SUludGVyY2VwdG9yPElWYWx1ZVdpbGxDaGFuZ2U8YW55Pj4pXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGludGVyY2VwdCh0aGlzLHByb3BlcnR5TmFtZSxjYWxsYmFjayk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIFNlcmlhbGl6ZU9iamVjdChvYmplY3Q6IHRoaXMpOmFueSB7XHJcbiAgICAgICAgbGV0IGZpZWxkc1RvUmVtb3ZlPVsnX2ZpZWxkcycsJ19kZWZhdWx0VmFsdWVzTG9hZGVkJywnSXNEaXJ0eSddO1xyXG5cclxuICAgICAgICBmb3IobGV0IHByb3BlcnR5IGluIG9iamVjdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtPW9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIGlmKGZpZWxkc1RvUmVtb3ZlLmluZGV4T2YocHJvcGVydHkpPj0wfHx0eXBlb2YgaXRlbT09J2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoQXJyYXkuaXNBcnJheShpdGVtKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5TZXJpYWxpemVBcnJheShpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIGl0ZW09PSdvYmplY3QnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpdGVtPXRoaXMuU2VyaWFsaXplT2JqZWN0KGl0ZW0gYXMgYW55KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBTZXJpYWxpemVBcnJheShhcnJheTogYW55W10pIHtcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxhcnJheS5sZW5ndGg7aSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbT1hcnJheVtpXTtcclxuICAgICAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkoaXRlbSkpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TZXJpYWxpemVBcnJheShpdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgaXRlbSA9PSdvYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W2ldPXRoaXMuU2VyaWFsaXplT2JqZWN0KGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgU3RvcmVLZXk9J1N0b3JlVHlwZSc7XHJcbmV4cG9ydCBmdW5jdGlvbiBTdG9yZURhdGFUeXBlKHR5cGU6dHlwZW9mIFN0b3JlQmFzZXxvYmplY3QpIHtcclxuICAgIHJldHVybiAoUmVmbGVjdCBhcyBhbnkpLm1ldGFkYXRhKFN0b3JlS2V5LHR5cGUpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1vYlhPYnNlcnZlRXZlbnR7XHJcbiAgICBwdWJsaWMgbWFpblN1YnNjcmlwdGlvbjooKT0+dm9pZDtcclxuICAgIHB1YmxpYyBzdWJFbGVtZW50czooKCk9PnZvaWQgKVtdPVtdO1xyXG4gICAgVW5zdWJzY3JpYmUoKXtcclxuICAgICAgICB0aGlzLm1haW5TdWJzY3JpcHRpb24oKTtcclxuICAgICAgICB0aGlzLlN1YkVsZW1lbnRzVW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU3ViRWxlbWVudHNVbnN1YnNjcmliZSgpe1xyXG4gICAgICAgIGlmKHRoaXMuc3ViRWxlbWVudHM9PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBmb3IobGV0IHN1YmVsZW1lbnQgb2YgdGhpcy5zdWJFbGVtZW50cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN1YmVsZW1lbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ViRWxlbWVudHM9W107XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IFN0b3JlQXV0b0luY3JlbWVudEtleT0nU3RvcmVBdXRvSW5jcmVtZW50JztcclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFN0b3JlQXV0b0luY3JlbWVudCh1bmlxdWVJZDphbnkpOmFueSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCxwcm9wZXJ0eSxkZXNjcmlwdGlvbilcclxuICAgIHtcclxuICAgICAgICBpZih0YXJnZXQuU3RvcmVBdXRvSW5jcmVtZW50RGljdGlvbmFyeT09bnVsbClcclxuICAgICAgICAgICAgdGFyZ2V0LlN0b3JlQXV0b0luY3JlbWVudERpY3Rpb25hcnk9W107XHJcbiAgICAgICAgdGFyZ2V0LlN0b3JlQXV0b0luY3JlbWVudERpY3Rpb25hcnlbcHJvcGVydHldPTA7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbiIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL0NvcmUvUERGQ29udHJvbEJhc2UnKTsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Db3JlL1BERkNvbnRyb2xCYXNlLk9wdGlvbnMnKTsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0NvbG9yUHJvcGVydHknKTsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL1N0eWxlU2V0cy9EaW1lbnNpb25TdHlsZVNldCcpOyIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvRHJvcERvd25Qcm9wZXJ0eScpOyIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvSW1hZ2VQcm9wZXJ0eScpOyIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChDKSBNaWNyb3NvZnQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cblxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xudmFyIFJlZmxlY3Q7XG4oZnVuY3Rpb24gKFJlZmxlY3QpIHtcbiAgICAvLyBNZXRhZGF0YSBQcm9wb3NhbFxuICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvXG4gICAgKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgICAgIHZhciByb290ID0gdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gICAgICAgICAgICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOlxuICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzID09PSBcIm9iamVjdFwiID8gdGhpcyA6XG4gICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXM7XCIpKCk7XG4gICAgICAgIHZhciBleHBvcnRlciA9IG1ha2VFeHBvcnRlcihSZWZsZWN0KTtcbiAgICAgICAgaWYgKHR5cGVvZiByb290LlJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJvb3QuUmVmbGVjdCA9IFJlZmxlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleHBvcnRlciA9IG1ha2VFeHBvcnRlcihyb290LlJlZmxlY3QsIGV4cG9ydGVyKTtcbiAgICAgICAgfVxuICAgICAgICBmYWN0b3J5KGV4cG9ydGVyKTtcbiAgICAgICAgZnVuY3Rpb24gbWFrZUV4cG9ydGVyKHRhcmdldCwgcHJldmlvdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHsgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMpXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pKGZ1bmN0aW9uIChleHBvcnRlcikge1xuICAgICAgICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgICAgLy8gZmVhdHVyZSB0ZXN0IGZvciBTeW1ib2wgc3VwcG9ydFxuICAgICAgICB2YXIgc3VwcG9ydHNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIHZhciB0b1ByaW1pdGl2ZVN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wudG9QcmltaXRpdmUgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wudG9QcmltaXRpdmUgOiBcIkBAdG9QcmltaXRpdmVcIjtcbiAgICAgICAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gc3VwcG9ydHNTeW1ib2wgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gXCJ1bmRlZmluZWRcIiA/IFN5bWJvbC5pdGVyYXRvciA6IFwiQEBpdGVyYXRvclwiO1xuICAgICAgICB2YXIgc3VwcG9ydHNDcmVhdGUgPSB0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gXCJmdW5jdGlvblwiOyAvLyBmZWF0dXJlIHRlc3QgZm9yIE9iamVjdC5jcmVhdGUgc3VwcG9ydFxuICAgICAgICB2YXIgc3VwcG9ydHNQcm90byA9IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXk7IC8vIGZlYXR1cmUgdGVzdCBmb3IgX19wcm90b19fIHN1cHBvcnRcbiAgICAgICAgdmFyIGRvd25MZXZlbCA9ICFzdXBwb3J0c0NyZWF0ZSAmJiAhc3VwcG9ydHNQcm90bztcbiAgICAgICAgdmFyIEhhc2hNYXAgPSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgYW4gb2JqZWN0IGluIGRpY3Rpb25hcnkgbW9kZSAoYS5rLmEuIFwic2xvd1wiIG1vZGUgaW4gdjgpXG4gICAgICAgICAgICBjcmVhdGU6IHN1cHBvcnRzQ3JlYXRlXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeShPYmplY3QuY3JlYXRlKG51bGwpKTsgfVxuICAgICAgICAgICAgICAgIDogc3VwcG9ydHNQcm90b1xuICAgICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHsgX19wcm90b19fOiBudWxsIH0pOyB9XG4gICAgICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoe30pOyB9LFxuICAgICAgICAgICAgaGFzOiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpOyB9XG4gICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGtleSBpbiBtYXA7IH0sXG4gICAgICAgICAgICBnZXQ6IGRvd25MZXZlbFxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBoYXNPd24uY2FsbChtYXAsIGtleSkgPyBtYXBba2V5XSA6IHVuZGVmaW5lZDsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBtYXBba2V5XTsgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gTG9hZCBnbG9iYWwgb3Igc2hpbSB2ZXJzaW9ucyBvZiBNYXAsIFNldCwgYW5kIFdlYWtNYXBcbiAgICAgICAgdmFyIGZ1bmN0aW9uUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKEZ1bmN0aW9uKTtcbiAgICAgICAgdmFyIHVzZVBvbHlmaWxsID0gdHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2Vzcy5lbnYgJiYgcHJvY2Vzcy5lbnZbXCJSRUZMRUNUX01FVEFEQVRBX1VTRV9NQVBfUE9MWUZJTExcIl0gPT09IFwidHJ1ZVwiO1xuICAgICAgICB2YXIgX01hcCA9ICF1c2VQb2x5ZmlsbCAmJiB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIE1hcC5wcm90b3R5cGUuZW50cmllcyA9PT0gXCJmdW5jdGlvblwiID8gTWFwIDogQ3JlYXRlTWFwUG9seWZpbGwoKTtcbiAgICAgICAgdmFyIF9TZXQgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFNldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTZXQucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IFNldCA6IENyZWF0ZVNldFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfV2Vha01hcCA9ICF1c2VQb2x5ZmlsbCAmJiB0eXBlb2YgV2Vha01hcCA9PT0gXCJmdW5jdGlvblwiID8gV2Vha01hcCA6IENyZWF0ZVdlYWtNYXBQb2x5ZmlsbCgpO1xuICAgICAgICAvLyBbW01ldGFkYXRhXV0gaW50ZXJuYWwgc2xvdFxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeS1vYmplY3QtaW50ZXJuYWwtbWV0aG9kcy1hbmQtaW50ZXJuYWwtc2xvdHNcbiAgICAgICAgdmFyIE1ldGFkYXRhID0gbmV3IF9XZWFrTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcHBsaWVzIGEgc2V0IG9mIGRlY29yYXRvcnMgdG8gYSBwcm9wZXJ0eSBvZiBhIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSBkZWNvcmF0b3JzIEFuIGFycmF5IG9mIGRlY29yYXRvcnMuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgdG8gZGVjb3JhdGUuXG4gICAgICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzIChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgZm9yIHRoZSB0YXJnZXQga2V5LlxuICAgICAgICAgKiBAcmVtYXJrcyBEZWNvcmF0b3JzIGFyZSBhcHBsaWVkIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIEV4YW1wbGUgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIikpKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIikpKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFJc0FycmF5KGRlY29yYXRvcnMpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChhdHRyaWJ1dGVzKSAmJiAhSXNVbmRlZmluZWQoYXR0cmlidXRlcykgJiYgIUlzTnVsbChhdHRyaWJ1dGVzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmIChJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGVjb3JhdGVQcm9wZXJ0eShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3Rvcih0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlY29yYXRlXCIsIGRlY29yYXRlKTtcbiAgICAgICAgLy8gNC4xLjIgUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSlcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jcmVmbGVjdC5tZXRhZGF0YVxuICAgICAgICAvKipcbiAgICAgICAgICogQSBkZWZhdWx0IG1ldGFkYXRhIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgY2FuIGJlIHVzZWQgb24gYSBjbGFzcywgY2xhc3MgbWVtYmVyLCBvciBwYXJhbWV0ZXIuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBUaGUga2V5IGZvciB0aGUgbWV0YWRhdGEgZW50cnkuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIFRoZSB2YWx1ZSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcmV0dXJucyBBIGRlY29yYXRvciBmdW5jdGlvbi5cbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgYG1ldGFkYXRhS2V5YCBpcyBhbHJlYWR5IGRlZmluZWQgZm9yIHRoZSB0YXJnZXQgYW5kIHRhcmdldCBrZXksIHRoZVxuICAgICAgICAgKiBtZXRhZGF0YVZhbHVlIGZvciB0aGF0IGtleSB3aWxsIGJlIG92ZXJ3cml0dGVuLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvciwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlLCBUeXBlU2NyaXB0IG9ubHkpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHByb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZCgpIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZCgpIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkgJiYgIUlzUHJvcGVydHlLZXkocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjb3JhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwibWV0YWRhdGFcIiwgbWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lIGEgdW5pcXVlIG1ldGFkYXRhIGVudHJ5IG9uIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhVmFsdWUgQSB2YWx1ZSB0aGF0IGNvbnRhaW5zIGF0dGFjaGVkIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRvIGRlZmluZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGRlY29yYXRvciBmYWN0b3J5IGFzIG1ldGFkYXRhLXByb2R1Y2luZyBhbm5vdGF0aW9uLlxuICAgICAgICAgKiAgICAgZnVuY3Rpb24gTXlBbm5vdGF0aW9uKG9wdGlvbnMpOiBEZWNvcmF0b3Ige1xuICAgICAgICAgKiAgICAgICAgIHJldHVybiAodGFyZ2V0LCBrZXk/KSA9PiBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgdGFyZ2V0LCBrZXkpO1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZGVmaW5lTWV0YWRhdGFcIiwgZGVmaW5lTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluIGhhcyB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBtZXRhZGF0YSBrZXkgd2FzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbjsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzTWV0YWRhdGFcIiwgaGFzTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciB0aGUgdGFyZ2V0IG9iamVjdCBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0OyBvdGhlcndpc2UsIGBmYWxzZWAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBoYXNPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJoYXNPd25NZXRhZGF0YVwiLCBoYXNPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIG1ldGFkYXRhIGtleSBpZiBmb3VuZDsgb3RoZXJ3aXNlLCBgdW5kZWZpbmVkYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE1ldGFkYXRhXCIsIGdldE1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIG1ldGFkYXRhIGtleSBpZiBmb3VuZDsgb3RoZXJ3aXNlLCBgdW5kZWZpbmVkYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE93bk1ldGFkYXRhXCIsIGdldE93bk1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG1ldGFkYXRhIGtleXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlNZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YUtleXNcIiwgZ2V0TWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHVuaXF1ZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHVuaXF1ZSBtZXRhZGF0YSBrZXlzLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE93bk1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE93bk1ldGFkYXRhS2V5c1wiLCBnZXRPd25NZXRhZGF0YUtleXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVsZXRlcyB0aGUgbWV0YWRhdGEgZW50cnkgZnJvbSB0aGUgdGFyZ2V0IG9iamVjdCB3aXRoIHRoZSBwcm92aWRlZCBrZXkuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBtZXRhZGF0YSBlbnRyeSB3YXMgZm91bmQgYW5kIGRlbGV0ZWQ7IG90aGVyd2lzZSwgZmFsc2UuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWxldGVNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKHRhcmdldCwgcHJvcGVydHlLZXksIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIW1ldGFkYXRhTWFwLmRlbGV0ZShtZXRhZGF0YUtleSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhTWFwLnNpemUgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5kZWxldGUocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgaWYgKHRhcmdldE1ldGFkYXRhLnNpemUgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgTWV0YWRhdGEuZGVsZXRlKHRhcmdldCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlbGV0ZU1ldGFkYXRhXCIsIGRlbGV0ZU1ldGFkYXRhKTtcbiAgICAgICAgZnVuY3Rpb24gRGVjb3JhdGVDb25zdHJ1Y3RvcihkZWNvcmF0b3JzLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQoZGVjb3JhdGVkKSAmJiAhSXNOdWxsKGRlY29yYXRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc0NvbnN0cnVjdG9yKGRlY29yYXRlZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdGVkID0gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQoZGVjb3JhdGVkKSAmJiAhSXNOdWxsKGRlY29yYXRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yID0gZGVjb3JhdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgQ3JlYXRlKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0TWV0YWRhdGEgPSBNZXRhZGF0YS5nZXQoTyk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQodGFyZ2V0TWV0YWRhdGEpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFDcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEgPSBuZXcgX01hcCgpO1xuICAgICAgICAgICAgICAgIE1ldGFkYXRhLnNldChPLCB0YXJnZXRNZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSB0YXJnZXRNZXRhZGF0YS5nZXQoUCk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFDcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGFNYXAgPSBuZXcgX01hcCgpO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhLnNldChQLCBtZXRhZGF0YU1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjEuMSBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWhhc21ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5SGFzTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBoYXNPd24gPSBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIGlmIChoYXNPd24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICghSXNOdWxsKHBhcmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzTWV0YWRhdGEoTWV0YWRhdGFLZXksIHBhcmVudCwgUCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjIuMSBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWhhc293bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBUb0Jvb2xlYW4obWV0YWRhdGFNYXAuaGFzKE1ldGFkYXRhS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjMuMSBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0TWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBoYXNPd24gPSBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIGlmIChoYXNPd24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNC4xIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5Z2V0b3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YU1hcC5nZXQoTWV0YWRhdGFLZXkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS41LjEgT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlkZWZpbmVvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlLCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICBtZXRhZGF0YU1hcC5zZXQoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS42LjEgT3JkaW5hcnlNZXRhZGF0YUtleXMoTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnltZXRhZGF0YWtleXNcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlNZXRhZGF0YUtleXMoTywgUCkge1xuICAgICAgICAgICAgdmFyIG93bktleXMgPSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIHZhciBwYXJlbnRLZXlzID0gT3JkaW5hcnlNZXRhZGF0YUtleXMocGFyZW50LCBQKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRLZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBvd25LZXlzO1xuICAgICAgICAgICAgaWYgKG93bktleXMubGVuZ3RoIDw9IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEtleXM7XG4gICAgICAgICAgICB2YXIgc2V0ID0gbmV3IF9TZXQoKTtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG93bktleXNfMSA9IG93bktleXM7IF9pIDwgb3duS2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBvd25LZXlzXzFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBoYXNLZXkgPSBzZXQuaGFzKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0LmFkZChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIHBhcmVudEtleXNfMSA9IHBhcmVudEtleXM7IF9hIDwgcGFyZW50S2V5c18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBwYXJlbnRLZXlzXzFbX2FdO1xuICAgICAgICAgICAgICAgIHZhciBoYXNLZXkgPSBzZXQuaGFzKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0LmFkZChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNy4xIE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5b3dubWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgICAgIHZhciBrZXlzT2JqID0gbWV0YWRhdGFNYXAua2V5cygpO1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gR2V0SXRlcmF0b3Ioa2V5c09iaik7XG4gICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5sZW5ndGggPSBrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IEl0ZXJhdG9yVmFsdWUobmV4dCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAga2V5c1trXSA9IG5leHRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNiBFQ01BU2NyaXB0IERhdGEgVHlwMGVzIGFuZCBWYWx1ZXNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1kYXRhLXR5cGVzLWFuZC12YWx1ZXNcbiAgICAgICAgZnVuY3Rpb24gVHlwZSh4KSB7XG4gICAgICAgICAgICBpZiAoeCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBOdWxsICovO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgeCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjogcmV0dXJuIDAgLyogVW5kZWZpbmVkICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6IHJldHVybiAyIC8qIEJvb2xlYW4gKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiByZXR1cm4gMyAvKiBTdHJpbmcgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOiByZXR1cm4gNCAvKiBTeW1ib2wgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiByZXR1cm4gNSAvKiBOdW1iZXIgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiByZXR1cm4geCA9PT0gbnVsbCA/IDEgLyogTnVsbCAqLyA6IDYgLyogT2JqZWN0ICovO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMSBUaGUgVW5kZWZpbmVkIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy11bmRlZmluZWQtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1VuZGVmaW5lZCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS4yIFRoZSBOdWxsIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1udWxsLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNOdWxsKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ID09PSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS41IFRoZSBTeW1ib2wgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzLXN5bWJvbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzU3ltYm9sKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNyBUaGUgT2JqZWN0IFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb2JqZWN0LXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNPYmplY3QoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiID8geCAhPT0gbnVsbCA6IHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xIFR5cGUgQ29udmVyc2lvblxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10eXBlLWNvbnZlcnNpb25cbiAgICAgICAgLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvcHJpbWl0aXZlXG4gICAgICAgIGZ1bmN0aW9uIFRvUHJpbWl0aXZlKGlucHV0LCBQcmVmZXJyZWRUeXBlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIFVuZGVmaW5lZCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBOdWxsICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAyIC8qIEJvb2xlYW4gKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogU3RyaW5nICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNSAvKiBOdW1iZXIgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoaW50ID0gUHJlZmVycmVkVHlwZSA9PT0gMyAvKiBTdHJpbmcgKi8gPyBcInN0cmluZ1wiIDogUHJlZmVycmVkVHlwZSA9PT0gNSAvKiBOdW1iZXIgKi8gPyBcIm51bWJlclwiIDogXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICB2YXIgZXhvdGljVG9QcmltID0gR2V0TWV0aG9kKGlucHV0LCB0b1ByaW1pdGl2ZVN5bWJvbCk7XG4gICAgICAgICAgICBpZiAoZXhvdGljVG9QcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZXhvdGljVG9QcmltLmNhbGwoaW5wdXQsIGhpbnQpO1xuICAgICAgICAgICAgICAgIGlmIChJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBoaW50ID09PSBcImRlZmF1bHRcIiA/IFwibnVtYmVyXCIgOiBoaW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMS4xIE9yZGluYXJ5VG9QcmltaXRpdmUoTywgaGludClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnl0b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpIHtcbiAgICAgICAgICAgIGlmIChoaW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvU3RyaW5nXzEgPSBPLnRvU3RyaW5nO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHRvU3RyaW5nXzEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0b1N0cmluZ18xLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlT2YgPSBPLnZhbHVlT2Y7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodmFsdWVPZikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlT2YuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRvU3RyaW5nXzIgPSBPLnRvU3RyaW5nO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHRvU3RyaW5nXzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0b1N0cmluZ18yLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4yIFRvQm9vbGVhbihhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy10b2Jvb2xlYW5cbiAgICAgICAgZnVuY3Rpb24gVG9Cb29sZWFuKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gISFhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTIgVG9TdHJpbmcoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvc3RyaW5nXG4gICAgICAgIGZ1bmN0aW9uIFRvU3RyaW5nKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIiArIGFyZ3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4xNCBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3Byb3BlcnR5a2V5XG4gICAgICAgIGZ1bmN0aW9uIFRvUHJvcGVydHlLZXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBUb1ByaW1pdGl2ZShhcmd1bWVudCwgMyAvKiBTdHJpbmcgKi8pO1xuICAgICAgICAgICAgaWYgKElzU3ltYm9sKGtleSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIHJldHVybiBUb1N0cmluZyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMiBUZXN0aW5nIGFuZCBDb21wYXJpc29uIE9wZXJhdGlvbnNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdGVzdGluZy1hbmQtY29tcGFyaXNvbi1vcGVyYXRpb25zXG4gICAgICAgIC8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzYXJyYXlcbiAgICAgICAgZnVuY3Rpb24gSXNBcnJheShhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXlcbiAgICAgICAgICAgICAgICA/IEFycmF5LmlzQXJyYXkoYXJndW1lbnQpXG4gICAgICAgICAgICAgICAgOiBhcmd1bWVudCBpbnN0YW5jZW9mIE9iamVjdFxuICAgICAgICAgICAgICAgICAgICA/IGFyZ3VtZW50IGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjMgSXNDYWxsYWJsZShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxuICAgICAgICBmdW5jdGlvbiBJc0NhbGxhYmxlKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBUaGlzIGlzIGFuIGFwcHJveGltYXRpb24gYXMgd2UgY2Fubm90IGNoZWNrIGZvciBbW0NhbGxdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjQgSXNDb25zdHJ1Y3Rvcihhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNjb25zdHJ1Y3RvclxuICAgICAgICBmdW5jdGlvbiBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBUaGlzIGlzIGFuIGFwcHJveGltYXRpb24gYXMgd2UgY2Fubm90IGNoZWNrIGZvciBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZC5cbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIuNyBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc3Byb3BlcnR5a2V5XG4gICAgICAgIGZ1bmN0aW9uIElzUHJvcGVydHlLZXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoVHlwZShhcmd1bWVudCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogU3RyaW5nICovOiByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQgLyogU3ltYm9sICovOiByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4zIE9wZXJhdGlvbnMgb24gT2JqZWN0c1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcGVyYXRpb25zLW9uLW9iamVjdHNcbiAgICAgICAgLy8gNy4zLjkgR2V0TWV0aG9kKFYsIFApXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxuICAgICAgICBmdW5jdGlvbiBHZXRNZXRob2QoViwgUCkge1xuICAgICAgICAgICAgdmFyIGZ1bmMgPSBWW1BdO1xuICAgICAgICAgICAgaWYgKGZ1bmMgPT09IHVuZGVmaW5lZCB8fCBmdW5jID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoIUlzQ2FsbGFibGUoZnVuYykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40IE9wZXJhdGlvbnMgb24gSXRlcmF0b3IgT2JqZWN0c1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcGVyYXRpb25zLW9uLWl0ZXJhdG9yLW9iamVjdHNcbiAgICAgICAgZnVuY3Rpb24gR2V0SXRlcmF0b3Iob2JqKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gR2V0TWV0aG9kKG9iaiwgaXRlcmF0b3JTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKG1ldGhvZCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyAvLyBmcm9tIENhbGxcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IG1ldGhvZC5jYWxsKG9iaik7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KGl0ZXJhdG9yKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjQgSXRlcmF0b3JWYWx1ZShpdGVyUmVzdWx0KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvMjAxNi8jc2VjLWl0ZXJhdG9ydmFsdWVcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JWYWx1ZShpdGVyUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlclJlc3VsdC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQuNSBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWl0ZXJhdG9yc3RlcFxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyBmYWxzZSA6IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcmNsb3NlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHZhciBmID0gaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICBmLmNhbGwoaXRlcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDkuMSBPcmRpbmFyeSBPYmplY3QgSW50ZXJuYWwgTWV0aG9kcyBhbmQgSW50ZXJuYWwgU2xvdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIC8vIDkuMS4xLjEgT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcmRpbmFyeWdldHByb3RvdHlwZW9mXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTykge1xuICAgICAgICAgICAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBPICE9PSBcImZ1bmN0aW9uXCIgfHwgTyA9PT0gZnVuY3Rpb25Qcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gVHlwZVNjcmlwdCBkb2Vzbid0IHNldCBfX3Byb3RvX18gaW4gRVM1LCBhcyBpdCdzIG5vbi1zdGFuZGFyZC5cbiAgICAgICAgICAgIC8vIFRyeSB0byBkZXRlcm1pbmUgdGhlIHN1cGVyY2xhc3MgY29uc3RydWN0b3IuIENvbXBhdGlibGUgaW1wbGVtZW50YXRpb25zXG4gICAgICAgICAgICAvLyBtdXN0IGVpdGhlciBzZXQgX19wcm90b19fIG9uIGEgc3ViY2xhc3MgY29uc3RydWN0b3IgdG8gdGhlIHN1cGVyY2xhc3MgY29uc3RydWN0b3IsXG4gICAgICAgICAgICAvLyBvciBlbnN1cmUgZWFjaCBjbGFzcyBoYXMgYSB2YWxpZCBgY29uc3RydWN0b3JgIHByb3BlcnR5IG9uIGl0cyBwcm90b3R5cGUgdGhhdFxuICAgICAgICAgICAgLy8gcG9pbnRzIGJhY2sgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgRnVuY3Rpb24uW1tQcm90b3R5cGVdXSwgdGhlbiB0aGlzIGlzIGRlZmluYXRlbHkgaW5oZXJpdGVkLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGluIEVTNiBvciB3aGVuIHVzaW5nIF9fcHJvdG9fXyBpbiBhIGNvbXBhdGlibGUgYnJvd3Nlci5cbiAgICAgICAgICAgIGlmIChwcm90byAhPT0gZnVuY3Rpb25Qcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHN1cGVyIHByb3RvdHlwZSBpcyBPYmplY3QucHJvdG90eXBlLCBudWxsLCBvciB1bmRlZmluZWQsIHRoZW4gd2UgY2Fubm90IGRldGVybWluZSB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gTy5wcm90b3R5cGU7XG4gICAgICAgICAgICB2YXIgcHJvdG90eXBlUHJvdG8gPSBwcm90b3R5cGUgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSk7XG4gICAgICAgICAgICBpZiAocHJvdG90eXBlUHJvdG8gPT0gbnVsbCB8fCBwcm90b3R5cGVQcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBJZiB0aGUgY29uc3RydWN0b3Igd2FzIG5vdCBhIGZ1bmN0aW9uLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvdG90eXBlUHJvdG8uY29uc3RydWN0b3I7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnN0cnVjdG9yICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBzb21lIGtpbmQgb2Ygc2VsZi1yZWZlcmVuY2UsIHRoZW4gd2UgY2Fubm90IGRldGVybWluZSB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICBpZiAoY29uc3RydWN0b3IgPT09IE8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHByZXR0eSBnb29kIGd1ZXNzIGF0IHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBuYWl2ZSBNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVNYXBQb2x5ZmlsbCgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZVNlbnRpbmVsID0ge307XG4gICAgICAgICAgICB2YXIgYXJyYXlTZW50aW5lbCA9IFtdO1xuICAgICAgICAgICAgdmFyIE1hcEl0ZXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIE1hcEl0ZXJhdG9yKGtleXMsIHZhbHVlcywgc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGVbXCJAQGl0ZXJhdG9yXCJdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5faW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9zZWxlY3Rvcih0aGlzLl9rZXlzW2luZGV4XSwgdGhpcy5fdmFsdWVzW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggKyAxID49IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQsIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLnRocm93ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLnJldHVybiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXBJdGVyYXRvcjtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIE1hcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2tleXMubGVuZ3RoOyB9LFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKSA+PSAwOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA+PSAwID8gdGhpcy5fdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLl9rZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDE7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzW2kgLSAxXSA9IHRoaXMuX2tleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2kgLSAxXSA9IHRoaXMuX3ZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMubGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLl9jYWNoZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEtleSk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRWYWx1ZSk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0RW50cnkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbXCJAQGl0ZXJhdG9yXCJdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVudHJpZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLl9maW5kID0gZnVuY3Rpb24gKGtleSwgaW5zZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUtleSAhPT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gdGhpcy5fa2V5cy5pbmRleE9mKHRoaXMuX2NhY2hlS2V5ID0ga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVJbmRleCA8IDAgJiYgaW5zZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlSW5kZXg7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwO1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEtleShrZXksIF8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VmFsdWUoXywgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRFbnRyeShrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtrZXksIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuYWl2ZSBTZXQgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVTZXRQb2x5ZmlsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gU2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAgPSBuZXcgX01hcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0LnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAuc2l6ZTsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHRoaXMuX21hcC5oYXModmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuc2V0KHZhbHVlLCB2YWx1ZSksIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHRoaXMuX21hcC5kZWxldGUodmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX21hcC5jbGVhcigpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5rZXlzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAudmFsdWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLmVudHJpZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5rZXlzKCk7IH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNldDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgV2Vha01hcCBzaGltXG4gICAgICAgIGZ1bmN0aW9uIENyZWF0ZVdlYWtNYXBQb2x5ZmlsbCgpIHtcbiAgICAgICAgICAgIHZhciBVVUlEX1NJWkUgPSAxNjtcbiAgICAgICAgICAgIHZhciBrZXlzID0gSGFzaE1hcC5jcmVhdGUoKTtcbiAgICAgICAgICAgIHZhciByb290S2V5ID0gQ3JlYXRlVW5pcXVlS2V5KCk7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFdlYWtNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5oYXModGFibGUsIHRoaXMuX2tleSkgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlICE9PSB1bmRlZmluZWQgPyBIYXNoTWFwLmdldCh0YWJsZSwgdGhpcy5fa2V5KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVbdGhpcy5fa2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlICE9PSB1bmRlZmluZWQgPyBkZWxldGUgdGFibGVbdGhpcy5fa2V5XSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IG5vdCBhIHJlYWwgY2xlYXIsIGp1c3QgbWFrZXMgdGhlIHByZXZpb3VzIGRhdGEgdW5yZWFjaGFibGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5ID0gQ3JlYXRlVW5pcXVlS2V5KCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gV2Vha01hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVbmlxdWVLZXkoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleTtcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBcIkBAV2Vha01hcEBAXCIgKyBDcmVhdGVVVUlEKCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKEhhc2hNYXAuaGFzKGtleXMsIGtleSkpO1xuICAgICAgICAgICAgICAgIGtleXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgY3JlYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPd24uY2FsbCh0YXJnZXQsIHJvb3RLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcm9vdEtleSwgeyB2YWx1ZTogSGFzaE1hcC5jcmVhdGUoKSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtyb290S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEZpbGxSYW5kb21CeXRlcyhidWZmZXIsIHNpemUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyW2ldID0gTWF0aC5yYW5kb20oKSAqIDB4ZmYgfCAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZW5SYW5kb21CeXRlcyhzaXplKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBVaW50OEFycmF5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZpbGxSYW5kb21CeXRlcyhuZXcgVWludDhBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IEFycmF5KHNpemUpLCBzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZVVVSUQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBHZW5SYW5kb21CeXRlcyhVVUlEX1NJWkUpO1xuICAgICAgICAgICAgICAgIC8vIG1hcmsgYXMgcmFuZG9tIC0gUkZDIDQxMjIgwqcgNC40XG4gICAgICAgICAgICAgICAgZGF0YVs2XSA9IGRhdGFbNl0gJiAweDRmIHwgMHg0MDtcbiAgICAgICAgICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSAmIDB4YmYgfCAweDgwO1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG9mZnNldCA9IDA7IG9mZnNldCA8IFVVSURfU0laRTsgKytvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGUgPSBkYXRhW29mZnNldF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPT09IDQgfHwgb2Zmc2V0ID09PSA2IHx8IG9mZnNldCA9PT0gOClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIi1cIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ5dGUgPCAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGJ5dGUudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXNlcyBhIGhldXJpc3RpYyB1c2VkIGJ5IHY4IGFuZCBjaGFrcmEgdG8gZm9yY2UgYW4gb2JqZWN0IGludG8gZGljdGlvbmFyeSBtb2RlLlxuICAgICAgICBmdW5jdGlvbiBNYWtlRGljdGlvbmFyeShvYmopIHtcbiAgICAgICAgICAgIG9iai5fXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmouX187XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfSk7XG59KShSZWZsZWN0IHx8IChSZWZsZWN0ID0ge30pKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL0V2ZW50cy9HZXRDb250cm9sJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL0dldENvbnRyb2xPcHRpb25zJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9TaW1wbGVUZXh0UHJvcGVydHknKTsiLCJleHBvcnQgY2xhc3MgU2FuaXRpemVye1xyXG4gICAgcHVibGljIHN0YXRpYyBTYW5pdGl6ZVN0cmluZ0FycmF5KHZhbHVlLCBjbGVhcldoZW5Ob3RBcnJheTpib29sZWFuPXRydWUpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodmFsdWU9PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuXHJcbiAgICAgICAgaWYoIUFycmF5LmlzQXJyYXkodmFsdWUpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoY2xlYXJXaGVuTm90QXJyYXkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIHJldHVybiBbU2FuaXRpemVyLlNhbml0aXplU3RyaW5nKHZhbHVlKV07XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTYW5pdGl6ZVN0cmluZyh2YWx1ZSxkZWZhdWx0VmFsdWU6c3RyaW5nPScnKSB7XHJcbiAgICAgICAgaWYodmFsdWU9PW51bGx8fEFycmF5LmlzQXJyYXkodmFsdWUpKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICBpZih2YWx1ZS50b1N0cmluZz09bnVsbHx8IHR5cGVvZiB2YWx1ZSA9PVwib2JqZWN0XCIpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgR2V0VmFsdWVGcm9tUGF0aChvYmo6YW55LHBhdGg6c3RyaW5nW10sZGVmYXVsdFZhbHVlOmFueT0nJylcclxuICAgIHtcclxuICAgICAgICBpZihvYmo9PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIGxldCBuZXh0UHJvcGVydHk9Jyc7XHJcbiAgICAgICAgd2hpbGUgKChuZXh0UHJvcGVydHk9cGF0aC5zaGlmdCgpKSE9bnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKG9ialtuZXh0UHJvcGVydHldPT11bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICAgICAgb2JqPW9ialtuZXh0UHJvcGVydHldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgR2V0U3RyaW5nVmFsdWVGcm9tUGF0aChvYmo6YW55LHBhdGg6c3RyaW5nW10sZGVmYXVsdFZhbHVlOnN0cmluZz0nJylcclxuICAgIHtcclxuICAgICAgICBsZXQgdmFsdWU9U2FuaXRpemVyLkdldFZhbHVlRnJvbVBhdGgob2JqLHBhdGgsbnVsbCk7XHJcbiAgICAgICAgaWYodmFsdWU9PW51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiBTYW5pdGl6ZXIuU2FuaXRpemVTdHJpbmcodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBTYW5pdGl6ZU51bWJlcih2YWx1ZTogYW55LGRlZmF1bHRWYWx1ZTpudW1iZXI9MCkge1xyXG4gICAgICAgIGlmKHZhbHVlPT1udWxsfHxBcnJheS5pc0FycmF5KHZhbHVlKSlcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICAgICAgdmFsdWU9TnVtYmVyKHZhbHVlKTtcclxuICAgICAgICBpZihpc05hTih2YWx1ZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgU2FuaXRpemVCb29sZWFuKHZhbHVlOiBhbnksIGRlZmF1bHRWYWx1ZTogYW55PWZhbHNlKSB7XHJcbiAgICAgICAgaWYodmFsdWU9PT1udWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgICAgICBpZih0eXBlb2YgdmFsdWUgPT0nYm9vbGVhbicpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighaXNOYU4oTnVtYmVyKHZhbHVlKSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUhPTA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtDdXJyZW5jeVNldHRpbmdzfSBmcm9tIFwiUGFnZUJ1aWxkZXIvdXRpbHMvQ3VycmVuY3lTZXR0aW5nc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDdXJyZW5jeVV0aWxzIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgR2V0SW5zdGFuY2UoKTpDdXJyZW5jeVV0aWxze1xyXG4gICAgICAgIGlmKCh3aW5kb3cgYXMgYW55KS5STkN1cnJlbmN5VXRpbHM9PW51bGwpXHJcbiAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS5STkN1cnJlbmN5VXRpbHM9bmV3IEN1cnJlbmN5VXRpbHMoKTtcclxuICAgICAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLlJOQ3VycmVuY3lVdGlscztcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIENvbmZpZzpDdXJyZW5jeVNldHRpbmdzO1xyXG5cclxuICAgIHB1YmxpYyBGb3JtYXRWYWx1ZShhbW91bnQ6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGlzTmFOKGFtb3VudCkpXHJcbiAgICAgICAgICAgIGFtb3VudD0wO1xyXG4gICAgICAgIGxldCB0ZXh0PWFtb3VudC50b0ZpeGVkKHRoaXMuQ29uZmlnLk51bWJlck9mRGVjaW1hbHMpO1xyXG4gICAgICAgIHZhciB4ID0gdGV4dC5zcGxpdCgnLicpO1xyXG4gICAgICAgIHZhciB4MSA9IHhbMF07XHJcbiAgICAgICAgdmFyIHgyID0geC5sZW5ndGggPiAxID8gJy4nICsgeFsxXSA6ICcnO1xyXG4gICAgICAgIHZhciByZ3ggPSAvKFxcZCspKFxcZHszfSkvO1xyXG4gICAgICAgIGlmKHRoaXMuQ29uZmlnLlRob3VzYW5kU2VwYXJhdG9yIT0nJykge1xyXG4gICAgICAgICAgICB3aGlsZSAocmd4LnRlc3QoeDEpKSB7XHJcbiAgICAgICAgICAgICAgICB4MSA9IHgxLnJlcGxhY2Uocmd4LCAnJDEnICsgdGhpcy5Db25maWcuVGhvdXNhbmRTZXBhcmF0b3IgKyAnJDInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoeDIubGVuZ3RoPjApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB4Mj14Mi5zbGljZSgxKTtcclxuICAgICAgICAgICAgeDI9dGhpcy5Db25maWcuRGVjaW1hbFNlcGFyYXRvcit4MjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGV4dD0geDEgKyB4MjtcclxuICAgICAgICBpZih0aGlzLkNvbmZpZy5Qb3NpdGlvbj09J2xlZnQnKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Db25maWcuU3ltYm9sK3RleHQ7XHJcbiAgICAgICAgaWYodGhpcy5Db25maWcuUG9zaXRpb249PSdsZWZ0X3NwYWNlJylcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ29uZmlnLlN5bWJvbCsnICcrdGV4dDtcclxuICAgICAgICBpZih0aGlzLkNvbmZpZy5Qb3NpdGlvbj09J3JpZ2h0JylcclxuICAgICAgICAgICAgcmV0dXJuIHRleHQrdGhpcy5Db25maWcuU3ltYm9sO1xyXG4gICAgICAgIGlmKHRoaXMuQ29uZmlnLlBvc2l0aW9uPT0ncmlnaHRfc3BhY2UnKVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dCsnICcrdGhpcy5Db25maWcuU3ltYm9sO1xyXG5cclxuICAgIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gbW9ieDsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9FdmVudHMvR2V0QWR2YW5jZWRGaWVsZCcpOyIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvQ2hlY2tCb3hQcm9wZXJ0eScpOyIsIm1vZHVsZS5leHBvcnRzID0gSW50ZXJuYWxTaGFyZWQoJ0ludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0ZpZWxkcy9GaWVsZEl0ZW1CYXNlJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvRXZlbnRzL1VwZGF0ZVN0eWxlU2V0dGluZ3NQYW5lbCcpOyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJcclxuaW1wb3J0IHtvYnNlcnZhYmxlfSBmcm9tIFwibW9ieFwiO1xyXG5pbXBvcnQge1N0b3JlQmFzZSwgU3RvcmVEYXRhVHlwZX0gZnJvbSBcInNoYXJlZC91dGlsaXRpZXMvU3RvcmUvU3RvcmVCYXNlXCI7XHJcbmltcG9ydCB7UERGQ29udHJvbEJhc2VPcHRpb25zfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvQ29yZS9QREZDb250cm9sQmFzZS5PcHRpb25zXCI7XHJcbmltcG9ydCB7Q29udHJvbFR5cGVFbnVtfSBmcm9tIFwiUGFnZUJ1aWxkZXIvcGFnZWJ1aWxkZXIvQ29udHJvbHMvTm9ybWFsUERGQ29udHJvbEZhY3RvcnlcIjtcclxuaW1wb3J0IHtXUEZvcm1Db250cm9sVHlwZUVudW19IGZyb20gXCIuL1dQRm9ybUZhY3RvcnlcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgSW52b2ljZURldGFpbENvbHVtbiBleHRlbmRzIFN0b3JlQmFzZXtcclxuICAgIFR5cGU6SW52b2ljZURldGFpbENvbHVtblR5cGVFbnVtfHN0cmluZztcclxuICAgIExhYmVsOnN0cmluZztcclxuICAgIEZvcm1hdDpJbnZvaWNlRGV0YWlsQ29sdW1uRm9ybWF0RW51bTtcclxuICAgIHByb3RlY3RlZCBMb2FkRGVmYXVsdFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLlR5cGU9Jyc7XHJcbiAgICAgICAgdGhpcy5MYWJlbD0nJztcclxuICAgICAgICB0aGlzLkZvcm1hdD1JbnZvaWNlRGV0YWlsQ29sdW1uRm9ybWF0RW51bS5zdHJpbmc7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEludm9pY2VEZXRhaWxDb250cm9sT3B0aW9ucyBleHRlbmRzIFBERkNvbnRyb2xCYXNlT3B0aW9uc3tcclxuICAgIEBvYnNlcnZhYmxlXHJcbiAgICBUeXBlOnN0cmluZztcclxuICAgIEBTdG9yZURhdGFUeXBlKEludm9pY2VEZXRhaWxDb2x1bW4pXHJcbiAgICBDb2x1bW5zOkludm9pY2VEZXRhaWxDb2x1bW5bXTtcclxuICAgIFNob3dHcmFuZFRvdGFsOmJvb2xlYW47XHJcbiAgICBQcm9kdWN0TGFiZWw6c3RyaW5nO1xyXG4gICAgUHJpY2VMYWJlbDpzdHJpbmc7XHJcbiAgICBHcmFuZFRvdGFsTGFiZWw6c3RyaW5nO1xyXG4gICAgUm93U2VwYXJhdG9yOlJvd1NlcGFyYXRvckVudW18c3RyaW5nO1xyXG4gICAgRXZlbkNvbG9yOnN0cmluZztcclxuICAgIEV2ZW5CYWNrZ3JvdW5kOnN0cmluZztcclxuICAgIE9kZENvbG9yOnN0cmluZztcclxuICAgIE9kZEJhY2tncm91bmQ6c3RyaW5nO1xyXG4gICAgQm9yZGVyQ29sb3I6c3RyaW5nO1xyXG5cclxuICAgIHByb3RlY3RlZCBMb2FkRGVmYXVsdFZhbHVlcygpIHtcclxuICAgICAgICBzdXBlci5Mb2FkRGVmYXVsdFZhbHVlcygpO1xyXG4gICAgICAgIHRoaXMuVHlwZT1XUEZvcm1Db250cm9sVHlwZUVudW0uSW52b2ljZURldGFpbC50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMuQ29sdW1ucz1bXTtcclxuICAgICAgICB0aGlzLlNob3dHcmFuZFRvdGFsPXRydWU7XHJcbiAgICAgICAgdGhpcy5HcmFuZFRvdGFsTGFiZWw9J1RvdGFsJztcclxuICAgICAgICB0aGlzLlJvd1NlcGFyYXRvcj1Sb3dTZXBhcmF0b3JFbnVtLlN0cmlwcGVkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5Qcm9kdWN0TGFiZWw9J1Byb2R1Y3QnO1xyXG4gICAgICAgIHRoaXMuUHJpY2VMYWJlbD1cIlByaWNlXCI7XHJcblxyXG4gICAgICAgIHRoaXMuT2RkQ29sb3I9JyMwMDAwMDAnO1xyXG4gICAgICAgIHRoaXMuT2RkQmFja2dyb3VuZD0nI0ZGRkZGRic7XHJcblxyXG4gICAgICAgIHRoaXMuRXZlbkJhY2tncm91bmQ9JyNmOWY5ZjknO1xyXG4gICAgICAgIHRoaXMuRXZlbkNvbG9yPScjMDAwMDAwJztcclxuICAgICAgICB0aGlzLkJvcmRlckNvbG9yPScjZGZkZmRmJztcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBlbnVtIEludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bXtcclxuICAgIFByb2R1Y3ROYW1lPSduYW1lJyxcclxuICAgIFByaWNlPSdwcmljZSdcclxufVxyXG5cclxuZXhwb3J0IGVudW0gSW52b2ljZURldGFpbENvbHVtbkZvcm1hdEVudW17XHJcbiAgICBzdHJpbmc9J3N0cmluZycsXHJcbiAgICBudW1iZXI9J251bWJlcidcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUm93U2VwYXJhdG9yRW51bXtcclxuICAgIE5vbmU9J25vbmUnLFxyXG4gICAgTGluZT0nbGluZScsXHJcbiAgICBTdHJpcHBlZD0nc3RyaXBwZWQnLFxyXG4gICAgTGFzdFJvdz0nbGFzdCdcclxufSIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQge0dyb3VwUHJvcGVydGllc30gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvc3R5bGVzL0dyb3VwUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge1BERkNvbnRyb2xCYXNlfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvQ29yZS9QREZDb250cm9sQmFzZVwiO1xyXG5pbXBvcnQge0RpbWVuc2lvblN0eWxlU2V0fSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9TdHlsZVNldHMvRGltZW5zaW9uU3R5bGVTZXRcIjtcclxuaW1wb3J0IHtBbGxvd2VkUmVzaXplRGlyZWN0aW9ufSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvRHRvXCI7XHJcbmltcG9ydCB7SW1hZ2VQcm9wZXJ0eX0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvSW1hZ2VQcm9wZXJ0eVwiO1xyXG5pbXBvcnQge1NpbXBsZVRleHRQcm9wZXJ0eX0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvU2ltcGxlVGV4dFByb3BlcnR5XCI7XHJcbmltcG9ydCB7UHJvcGVydHlCYXNlfSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9Qcm9wZXJ0eUJhc2VcIjtcclxuaW1wb3J0IHtDaGVja0JveFByb3BlcnR5fSBmcm9tIFwiSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9DaGVja0JveFByb3BlcnR5XCI7XHJcbmltcG9ydCB7XHJcbiAgICBJbnZvaWNlRGV0YWlsQ29sdW1uRm9ybWF0RW51bSxcclxuICAgIEludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bSxcclxuICAgIEludm9pY2VEZXRhaWxDb250cm9sT3B0aW9ucyxcclxuICAgIFJvd1NlcGFyYXRvckVudW1cclxufSBmcm9tIFwiLi9JbnZvaWNlRGV0YWlsQ29udHJvbC5PcHRpb25zXCI7XHJcbmltcG9ydCB7SFRNTFRhYmxlQ3JlYXRvcn0gZnJvbSBcInNoYXJlZC91dGlsaXRpZXMvSFRNTFRhYmxlQ3JlYXRvci9IVE1MVGFibGVDcmVhdG9yXCI7XHJcbmltcG9ydCB7Q3VycmVuY3lVdGlsc30gZnJvbSBcIlBhZ2VCdWlsZGVyL3V0aWxzL0N1cnJlbmN5VXRpbHNcIjtcclxuaW1wb3J0IHtFdmVudE1hbmFnZXJ9IGZyb20gXCJzaGFyZWQvdXRpbGl0aWVzL0V2ZW50cy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IHtVcGRhdGVGaWVsZFNldHRpbmdzUGFuZWx9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9FdmVudHMvVXBkYXRlRmllbGRTZXR0aW5nc1BhbmVsXCI7XHJcbmltcG9ydCB7RHJvcERvd25Qcm9wZXJ0eX0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0NvbnRyb2xzL1Byb3BlcnRpZXMvRHJvcERvd25Qcm9wZXJ0eVwiO1xyXG5pbXBvcnQge0NvbG9yUHJvcGVydHl9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Qcm9wZXJ0aWVzL0NvbG9yUHJvcGVydHlcIjtcclxuaW1wb3J0IHtVcGRhdGVTdHlsZVNldHRpbmdzUGFuZWx9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9FdmVudHMvVXBkYXRlU3R5bGVTZXR0aW5nc1BhbmVsXCI7XHJcblxyXG5cclxuZGVjbGFyZSBsZXQgcmVkbmFvUERGSW52b2ljZVBhcmFtczphbnk7XHJcbmV4cG9ydCBjbGFzcyBJbnZvaWNlRGV0YWlsQ29udHJvbCBleHRlbmRzIFBERkNvbnRyb2xCYXNle1xyXG5cclxuXHJcbiAgICBwdWJsaWMgQWxsb3dlZFJlc2l6ZURpcmVjdGlvbjogQWxsb3dlZFJlc2l6ZURpcmVjdGlvbiA9IFwiaG9yaXpvbnRhbFwiO1xyXG4gICAgR2V0U3R5bGVzKCk6IEdyb3VwUHJvcGVydGllc1tdIHtcclxuICAgICAgICBsZXQgcHJvcGVydGllcz1bXTtcclxuICAgICAgICBwcm9wZXJ0aWVzLnB1c2goRGltZW5zaW9uU3R5bGVTZXQuR2V0U3R5bGVzKHRoaXMpKTtcclxuICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobmV3IEdyb3VwUHJvcGVydGllcygnSGVhZGVyIFN0eWxlcycpLkFkZFByb3BlcnRpZXMoW1xyXG4gICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdiYWNrZ3JvdW5kLWNvbG9yJyx0aGlzLlN0eWxlTWFuYWdlci5DcmVhdGVTdHlsZUNsYXNzTWFuYWdlcignLnByb2R1Y3REZXRhaWwgdGgnKSkuU2V0TGFiZWwoJ0JhY2tncm91bmQgQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pLFxyXG4gICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdjb2xvcicsdGhpcy5TdHlsZU1hbmFnZXIuQ3JlYXRlU3R5bGVDbGFzc01hbmFnZXIoJy5wcm9kdWN0RGV0YWlsIHRoJykpLlNldExhYmVsKCdDb2xvcicpXHJcbiAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSlcclxuICAgICAgICBdKSk7XHJcblxyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuT3B0aW9ucy5Sb3dTZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgY2FzZSBSb3dTZXBhcmF0b3JFbnVtLlN0cmlwcGVkOlxyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBHcm91cFByb3BlcnRpZXMoJ1NlcGFyYXRvciBTdHlsZXMnKS5BZGRQcm9wZXJ0aWVzKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnT2RkQmFja2dyb3VuZCcpLlNldExhYmVsKCdPZGQgQmFja2dyb3VuZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSkuT25DaGFuZ2UoZT0+dGhpcy5TZXRJbml0aWFsU3R5bGVzKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdPZGRDb2xvcicsdGhpcy5PcHRpb25zKS5TZXRMYWJlbCgnT2RkIENvbG9yJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5BZGRTdHlsZXMoe3dpZHRoOic1MCUnLGRpc3BsYXk6J2lubGluZS1ibG9jayd9KS5PbkNoYW5nZShlPT50aGlzLlNldEluaXRpYWxTdHlsZXMoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ0V2ZW5CYWNrZ3JvdW5kJykuU2V0TGFiZWwoJ0V2ZW4gQmFja2dyb3VuZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSkuT25DaGFuZ2UoZT0+dGhpcy5TZXRJbml0aWFsU3R5bGVzKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdFdmVuQ29sb3InLHRoaXMuT3B0aW9ucykuU2V0TGFiZWwoJ0V2ZW4gQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pLk9uQ2hhbmdlKGU9PnRoaXMuU2V0SW5pdGlhbFN0eWxlcygpKVxyXG4gICAgICAgICAgICAgICAgICAgIF0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFJvd1NlcGFyYXRvckVudW0uTGluZTpcclxuICAgICAgICAgICAgY2FzZSBSb3dTZXBhcmF0b3JFbnVtLkxhc3RSb3c6XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEdyb3VwUHJvcGVydGllcygnU2VwYXJhdG9yIFN0eWxlcycpLkFkZFByb3BlcnRpZXMoW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ0JvcmRlckNvbG9yJykuU2V0TGFiZWwoJ0JvcmRlciBDb2xvcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgLk9uQ2hhbmdlKGU9PnRoaXMuU2V0SW5pdGlhbFN0eWxlcygpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQ29sb3JQcm9wZXJ0eSh0aGlzLCdiYWNrZ3JvdW5kLWNvbG9yJyx0aGlzLlN0eWxlTWFuYWdlci5DcmVhdGVTdHlsZUNsYXNzTWFuYWdlcignLnByb2R1Y3REZXRhaWwgdGJvZHknKSkuU2V0TGFiZWwoJ0JhY2tncm91bmQgQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnY29sb3InLHRoaXMuU3R5bGVNYW5hZ2VyLkNyZWF0ZVN0eWxlQ2xhc3NNYW5hZ2VyKCcucHJvZHVjdERldGFpbCB0Ym9keScpKS5TZXRMYWJlbCgnQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXSkpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgUm93U2VwYXJhdG9yRW51bS5Ob25lOlxyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBHcm91cFByb3BlcnRpZXMoJ1NlcGFyYXRvciBTdHlsZXMnKS5BZGRQcm9wZXJ0aWVzKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnYmFja2dyb3VuZC1jb2xvcicsdGhpcy5TdHlsZU1hbmFnZXIuQ3JlYXRlU3R5bGVDbGFzc01hbmFnZXIoJy5wcm9kdWN0RGV0YWlsIHRib2R5JykpLlNldExhYmVsKCdCYWNrZ3JvdW5kIENvbG9yJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5BZGRTdHlsZXMoe3dpZHRoOic1MCUnLGRpc3BsYXk6J2lubGluZS1ibG9jayd9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yUHJvcGVydHkodGhpcywnY29sb3InLHRoaXMuU3R5bGVNYW5hZ2VyLkNyZWF0ZVN0eWxlQ2xhc3NNYW5hZ2VyKCcucHJvZHVjdERldGFpbCB0Ym9keScpKS5TZXRMYWJlbCgnQ29sb3InKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLkFkZFN0eWxlcyh7d2lkdGg6JzUwJScsZGlzcGxheTonaW5saW5lLWJsb2NrJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgXSkpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobmV3IEdyb3VwUHJvcGVydGllcygnVG90YWwgU3R5bGVzJykuQWRkUHJvcGVydGllcyhbXHJcbiAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ2JhY2tncm91bmQtY29sb3InLHRoaXMuU3R5bGVNYW5hZ2VyLkNyZWF0ZVN0eWxlQ2xhc3NNYW5hZ2VyKCcuZm9vdGVyRGV0YWlsIC50b3RhbCcpKS5TZXRMYWJlbCgnQmFja2dyb3VuZCBDb2xvcicpXHJcbiAgICAgICAgICAgICAgICAuQWRkU3R5bGVzKHt3aWR0aDonNTAlJyxkaXNwbGF5OidpbmxpbmUtYmxvY2snfSksXHJcbiAgICAgICAgICAgIG5ldyBDb2xvclByb3BlcnR5KHRoaXMsJ2NvbG9yJyx0aGlzLlN0eWxlTWFuYWdlci5DcmVhdGVTdHlsZUNsYXNzTWFuYWdlcignLmZvb3RlckRldGFpbCAudG90YWwnKSkuU2V0TGFiZWwoJ0NvbG9yJylcclxuICAgICAgICAgICAgICAgIC5BZGRTdHlsZXMoe3dpZHRoOic1MCUnLGRpc3BsYXk6J2lubGluZS1ibG9jayd9KVxyXG4gICAgICAgIF0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgT3B0aW9uczpJbnZvaWNlRGV0YWlsQ29udHJvbE9wdGlvbnM7XHJcbiAgICBwcml2YXRlIHByb3BlcnRpZXM6R3JvdXBQcm9wZXJ0aWVzW107XHJcblxyXG5cclxuXHJcbiAgICBTZXRJbml0aWFsU3R5bGVzKCkge1xyXG4gICAgICAgIHN1cGVyLlNldEluaXRpYWxTdHlsZXMoKTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5DbGVhckZpZWxkU3R5bGVzKCk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsLCAuZm9vdGVyRGV0YWlsJyx7J2JvcmRlci1jb2xsYXBzZSc6J2NvbGxhcHNlJ30pO1xyXG4gICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCwgLmZvb3RlckRldGFpbCcseydib3JkZXItc3BhY2luZyc6JzAnfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsJyx7J3dpZHRoJzonMTAwJSd9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLnByb2R1Y3REZXRhaWwgLnByaWNlJyx7J3RleHQtYWxpZ24nOidyaWdodCd9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLnByb2R1Y3REZXRhaWwgLm5hbWUnLHsndGV4dC1hbGlnbic6J2xlZnQnfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5mb290ZXJEZXRhaWwnLHsnd2lkdGgnOiczMDBweCcsJ21hcmdpbi1sZWZ0JzonYXV0byd9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLmZvb3RlckRldGFpbCB0aCcseyd0ZXh0LWFsaWduJzonbGVmdCd9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLmZvb3RlckRldGFpbCB0ZCcseyd0ZXh0LWFsaWduJzoncmlnaHQnfSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0VGFibGUgdGQnLHsncGFkZGluZyc6JzVweCd9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLnByb2R1Y3RUYWJsZSB0ZCwgLnByb2R1Y3RUYWJsZSB0aCcseydwYWRkaW5nJzonOXB4IDVweCd9KTtcclxuXHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsIHRoJyx7J2JhY2tncm91bmQtY29sb3InOlwiIzMzNmVkMFwifSk7XHJcbiAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsIHRoJyx7J2NvbG9yJzpcIndoaXRlXCJ9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLmZvb3RlckRldGFpbCAudG90YWwnLHsnYmFja2dyb3VuZC1jb2xvcic6XCIjMzM2ZWQwXCJ9KTtcclxuICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLmZvb3RlckRldGFpbCAudG90YWwnLHsnY29sb3InOlwid2hpdGVcIn0pO1xyXG5cclxuICAgICAgICBpZih0aGlzLk9wdGlvbnMuUm93U2VwYXJhdG9yPT1Sb3dTZXBhcmF0b3JFbnVtLkxpbmUudG9TdHJpbmcoKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCB0ZCcseydib3JkZXItYm90dG9tJzonMXB4IHNvbGlkICNkZmRmZGYnfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLk9wdGlvbnMuUm93U2VwYXJhdG9yPT1Sb3dTZXBhcmF0b3JFbnVtLlN0cmlwcGVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsID4gdGJvZHkgdHI6bnRoLW9mLXR5cGUob2RkKScse1xyXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiB0aGlzLk9wdGlvbnMuT2RkQmFja2dyb3VuZCxcclxuICAgICAgICAgICAgICAgICdjb2xvcic6dGhpcy5PcHRpb25zLk9kZENvbG9yXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5TdHlsZU1hbmFnZXIuQWRkU3R5bGVTZXQoJy5wcm9kdWN0RGV0YWlsIHRyOm50aC1vZi10eXBlKGV2ZW4pJyx7XHJcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6IHRoaXMuT3B0aW9ucy5FdmVuQmFja2dyb3VuZCxcclxuICAgICAgICAgICAgICAgICdjb2xvcic6dGhpcy5PcHRpb25zLkV2ZW5Db2xvclxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuT3B0aW9ucy5Sb3dTZXBhcmF0b3I9PVJvd1NlcGFyYXRvckVudW0uTGluZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuU3R5bGVNYW5hZ2VyLkFkZFN0eWxlU2V0KCcucHJvZHVjdERldGFpbCB0ZCcseydib3JkZXItYm90dG9tJzonMXB4IHNvbGlkICcrdGhpcy5PcHRpb25zLkJvcmRlckNvbG9yfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLk9wdGlvbnMuUm93U2VwYXJhdG9yPT1Sb3dTZXBhcmF0b3JFbnVtLkxhc3RSb3cpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLlN0eWxlTWFuYWdlci5BZGRTdHlsZVNldCgnLnByb2R1Y3REZXRhaWwgdHI6bGFzdC1jaGlsZCB0ZCcseydib3JkZXItYm90dG9tJzonMXB4IHNvbGlkICcrdGhpcy5PcHRpb25zLkJvcmRlckNvbG9yfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgTmVlZFRyYW5zbGF0aW9ucygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0VHJhbnNsYXRlZFRleHQoKTogYW55IHtcclxuICAgICAgICByZXR1cm4ge3RleHQ6Jyd9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBHZXRGYWtlRGF0YSgpe1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtuYW1lOidNeSBhd2Vzb21lIHByb2R1Y3QgMScscHJpY2U6MTB9LFxyXG4gICAgICAgICAgICB7bmFtZTonTXkgYXdlc29tZSBwcm9kdWN0IDInLHByaWNlOjIwfSxcclxuICAgICAgICAgICAge25hbWU6J015IGF3ZXNvbWUgcHJvZHVjdCAzJyxwcmljZTozMH1cclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEludGVybmFsR2VuZXJhdGVIdG1sKCRjb250YWluZXI6IEpRdWVyeSkge1xyXG5cclxuICAgICAgICBsZXQgY3JlYXRvcj1uZXcgSFRNTFRhYmxlQ3JlYXRvcigncHJvZHVjdERldGFpbCBwcm9kdWN0VGFibGUnKTtcclxuICAgICAgICAkY29udGFpbmVyLmFwcGVuZChjcmVhdG9yLlRhYmxlKTtcclxuICAgICAgICBjcmVhdG9yLkNyZWF0ZVRIZWFkKCk7XHJcbiAgICAgICAgY3JlYXRvci5DcmVhdGVSb3coKTtcclxuICAgICAgICBmb3IobGV0IGNvbHVtbiBvZiB0aGlzLk9wdGlvbnMuQ29sdW1ucylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNyZWF0b3IuQ3JlYXRlVGV4dENvbHVtbihjb2x1bW4uTGFiZWwsY29sdW1uLlR5cGUsJ3RoJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjcmVhdG9yLkNyZWF0ZVRCb2R5KCk7XHJcbiAgICAgICAgZm9yKGxldCByb3cgb2YgdGhpcy5HZXRGYWtlRGF0YSgpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY3JlYXRvci5DcmVhdGVSb3coKTtcclxuICAgICAgICAgICAgZm9yKGxldCBjb2x1bW4gb2YgdGhpcy5PcHRpb25zLkNvbHVtbnMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZT1yb3dbY29sdW1uLlR5cGVdO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsdWU9PW51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9MDtcclxuICAgICAgICAgICAgICAgIGlmKGNvbHVtbi5Gb3JtYXQ9PUludm9pY2VEZXRhaWxDb2x1bW5Gb3JtYXRFbnVtLm51bWJlcilcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1DdXJyZW5jeVV0aWxzLkdldEluc3RhbmNlKCkuRm9ybWF0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgY3JlYXRvci5DcmVhdGVUZXh0Q29sdW1uKHZhbHVlLGNvbHVtbi5UeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5PcHRpb25zLlNob3dHcmFuZFRvdGFsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGZvb3RDcmVhdG9yPW5ldyBIVE1MVGFibGVDcmVhdG9yKCdmb290ZXJEZXRhaWwgcHJvZHVjdFRhYmxlJyk7XHJcbiAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kKGZvb3RDcmVhdG9yLlRhYmxlKTtcclxuICAgICAgICAgICAgZm9vdENyZWF0b3IuQ3JlYXRlVEJvZHkoKTtcclxuICAgICAgICAgICAgZm9vdENyZWF0b3IuQ3JlYXRlUm93KCk7XHJcbiAgICAgICAgICAgIGZvb3RDcmVhdG9yLkNyZWF0ZVRleHRDb2x1bW4odGhpcy5PcHRpb25zLkdyYW5kVG90YWxMYWJlbCwndG90YWwnLCd0aCcpO1xyXG4gICAgICAgICAgICBmb290Q3JlYXRvci5DcmVhdGVUZXh0Q29sdW1uKEN1cnJlbmN5VXRpbHMuR2V0SW5zdGFuY2UoKS5Gb3JtYXRWYWx1ZSg2MCksJ3RvdGFsJyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdldFByb3BlcnRpZXMoKTogR3JvdXBQcm9wZXJ0aWVzW10ge1xyXG4gICAgICAgIGxldCBwcm9wZXJ0aWVzPVtdO1xyXG5cclxuICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobmV3IERyb3BEb3duUHJvcGVydHkodGhpcywnUm93U2VwYXJhdG9yJylcclxuICAgICAgICAgICAgLkFkZE9wdGlvbignTm9uZScsJ25vbmUnKVxyXG4gICAgICAgICAgICAuQWRkT3B0aW9uKCdMaW5lJywnbGluZScpXHJcbiAgICAgICAgICAgIC5BZGRPcHRpb24oJ1N0cmlwcGVkJywnc3RyaXBwZWQnKVxyXG4gICAgICAgICAgICAuQWRkT3B0aW9uKCdMYXN0JywnbGFzdCcpXHJcbiAgICAgICAgICAgIC5PbkNoYW5nZShlPT57XHJcbiAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuUHVibGlzaChuZXcgVXBkYXRlRmllbGRTZXR0aW5nc1BhbmVsKCkpO1xyXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLlB1Ymxpc2gobmV3IFVwZGF0ZVN0eWxlU2V0dGluZ3NQYW5lbCgpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuU2V0SW5pdGlhbFN0eWxlcygpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobmV3IFNpbXBsZVRleHRQcm9wZXJ0eSh0aGlzLFwiTGFiZWxcIix0aGlzLk9wdGlvbnMuQ29sdW1ucy5maW5kKHg9PnguVHlwZT09SW52b2ljZURldGFpbENvbHVtblR5cGVFbnVtLlByb2R1Y3ROYW1lKSkuU2V0TGFiZWwoJ1Byb2R1Y3QgTGFiZWwnKSk7XHJcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKG5ldyBTaW1wbGVUZXh0UHJvcGVydHkodGhpcyxcIkxhYmVsXCIsdGhpcy5PcHRpb25zLkNvbHVtbnMuZmluZCh4PT54LlR5cGU9PUludm9pY2VEZXRhaWxDb2x1bW5UeXBlRW51bS5QcmljZSkpLlNldExhYmVsKCdQcmljZSBMYWJlbCcpKTtcclxuXHJcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKG5ldyBDaGVja0JveFByb3BlcnR5KHRoaXMsXCJTaG93R3JhbmRUb3RhbFwiKS5TZXRMYWJlbCgnU2hvdyBHcmFuZCBUb3RhbCcpLk9uQ2hhbmdlKGU9PntcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLlB1Ymxpc2gobmV3IFVwZGF0ZUZpZWxkU2V0dGluZ3NQYW5lbCgpKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgaWYodGhpcy5PcHRpb25zLlNob3dHcmFuZFRvdGFsKVxyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobmV3IFNpbXBsZVRleHRQcm9wZXJ0eSh0aGlzLFwiR3JhbmRUb3RhbExhYmVsXCIpLlNldExhYmVsKCdHcmFuZCB0b3RhbCBsYWJlbCcpKTtcclxuICAgICAgICByZXR1cm4gW25ldyBHcm91cFByb3BlcnRpZXMoJ0dlbmVyYWwgKEZpZWxkIElkOicrdGhpcy5PcHRpb25zLklkKycpJykuQWRkUHJvcGVydGllcyhwcm9wZXJ0aWVzKV07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBBZnRlclJlZnJlc2goKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEdldEluaXRpYWxPcHRpb25zKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICByZXNvbHZlKG5ldyBJbnZvaWNlRGV0YWlsQ29udHJvbE9wdGlvbnMoKS5NZXJnZShcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBTdHlsZXM6e0xlZnQ6JzIlJyxXaWR0aDonOTYlJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgQ29sdW1uczpbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtMYWJlbDonUHJvZHVjdCcsVHlwZTpJbnZvaWNlRGV0YWlsQ29sdW1uVHlwZUVudW0uUHJvZHVjdE5hbWUsRm9ybWF0Okludm9pY2VEZXRhaWxDb2x1bW5Gb3JtYXRFbnVtLnN0cmluZ30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtMYWJlbDonUHJpY2UnLFR5cGU6SW52b2ljZURldGFpbENvbHVtblR5cGVFbnVtLlByaWNlLEZvcm1hdDpJbnZvaWNlRGV0YWlsQ29sdW1uRm9ybWF0RW51bS5udW1iZXJ9LFxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgR2VuZXJhdGVUYWJsZShjb250YWluZXI6SFRNTEVsZW1lbnQpIHtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBJbnRlcm5hbEdldExhYmVsKCkge1xyXG4gICAgICAgIHJldHVybiAnSW1hZ2UnO1xyXG4gICAgfVxyXG5cclxuICAgIEdldFZhbHVlRWRpdG9yKCk6IFByb3BlcnR5QmFzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVByb3BlcnR5KHRoaXMsJ1VSTCcpLlNldExhYmVsKCcnKS5TZXRXaWR0aCgxMDApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7UERGQ29udHJvbEJhc2V9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9QYWdlQnVpbGRlci9Db250cm9scy9Db3JlL1BERkNvbnRyb2xCYXNlXCI7XHJcbmltcG9ydCB7RmlndXJlQ29udHJvbH0gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvRmlndXJlQ29udHJvbFwiO1xyXG5pbXBvcnQge0ljb25Db250cm9sfSBmcm9tIFwiLi4vLi4vLi4vUGFnZUJ1aWxkZXJQci9Db250cm9scy9JY29uQ29udHJvbFwiO1xyXG5pbXBvcnQge1FSQ29udHJvbH0gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvUVJDb250cm9sXCI7XHJcbmltcG9ydCB7SHRtbENvbnRyb2x9IGZyb20gXCIuLi8uLi8uLi9QYWdlQnVpbGRlclByL0NvbnRyb2xzL0h0bWxDb250cm9sXCI7XHJcbmltcG9ydCB7SW1hZ2VDb250cm9sfSBmcm9tIFwiLi4vLi4vLi4vUGFnZUJ1aWxkZXJQci9Db250cm9scy9JbWFnZUNvbnRyb2xcIjtcclxuaW1wb3J0IHtGaWd1cmVDb250cm9sT3B0aW9uc30gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvRmlndXJlQ29udHJvbC5PcHRpb25zXCI7XHJcbmltcG9ydCB7SWNvbkNvbnRyb2xPcHRpb25zfSBmcm9tIFwiLi4vLi4vLi4vUGFnZUJ1aWxkZXJQci9Db250cm9scy9JY29uQ29udHJvbC5PcHRpb25zXCI7XHJcbmltcG9ydCB7UVJDb250cm9sT3B0aW9uc30gZnJvbSBcIi4uLy4uLy4uL1BhZ2VCdWlsZGVyUHIvQ29udHJvbHMvUVJDb250cm9sLk9wdGlvbnNcIjtcclxuaW1wb3J0IHtIdG1sQ29udHJvbE9wdGlvbnN9IGZyb20gXCIuLi8uLi8uLi9QYWdlQnVpbGRlclByL0NvbnRyb2xzL0h0bWxDb250cm9sLk9wdGlvbnNcIjtcclxuaW1wb3J0IHtJbWFnZUNvbnRyb2xPcHRpb25zfSBmcm9tIFwiLi4vLi4vLi4vUGFnZUJ1aWxkZXJQci9Db250cm9scy9JbWFnZUNvbnRyb2wuT3B0aW9uc1wiO1xyXG5pbXBvcnQge1BSQ29udHJvbFR5cGVzfSBmcm9tIFwiLi4vLi4vLi4vUGFnZUJ1aWxkZXJQci9QUkNvbnRyb2xGYWN0b3J5XCI7XHJcbmltcG9ydCB7SW52b2ljZURldGFpbENvbnRyb2x9IGZyb20gXCIuL0ludm9pY2VEZXRhaWxDb250cm9sXCI7XHJcbmltcG9ydCB7SW52b2ljZURldGFpbENvbnRyb2xPcHRpb25zfSBmcm9tIFwiLi9JbnZvaWNlRGV0YWlsQ29udHJvbC5PcHRpb25zXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFdQRm9ybUNvbnRyb2xGYWN0b3J5IHtcclxuICAgIHN0YXRpYyBHZXRDb250cm9sKGNvbnRyb2xUeXBlOnN0cmluZyk6UERGQ29udHJvbEJhc2VcclxuICAgIHtcclxuICAgICAgICBzd2l0Y2ggKGNvbnRyb2xUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgV1BGb3JtQ29udHJvbFR5cGVFbnVtLkludm9pY2VEZXRhaWw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludm9pY2VEZXRhaWxDb250cm9sKCk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFdQRm9ybUNvbnRyb2xPcHRpb25zRmFjdG9yeXtcclxuICAgIHN0YXRpYyBHZXRDb250cm9sT3B0aW9ucyh0eXBlOnN0cmluZylcclxuICAgIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBXUEZvcm1Db250cm9sVHlwZUVudW0uSW52b2ljZURldGFpbDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW52b2ljZURldGFpbENvbnRyb2xPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZW51bSBXUEZvcm1Db250cm9sVHlwZUVudW17XHJcbiAgICBJbnZvaWNlRGV0YWlsPSdJbnZvaWNlRGV0YWlsJ1xyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmltcG9ydCB7Q29udHJvbFR5cGVFbnVtfSBmcm9tIFwiUGFnZUJ1aWxkZXIvcGFnZWJ1aWxkZXIvQ29udHJvbHMvTm9ybWFsUERGQ29udHJvbEZhY3RvcnlcIjtcclxuaW1wb3J0IHtGaWVsZEl0ZW1CYXNlLCBGaWVsZEl0ZW1CYXNlUHJvcHMsIEZpZWxkSXRlbUJhc2VTdGF0ZX0gZnJvbSBcIkludGVybmFsU2hhcmVkL1BhZ2VCdWlsZGVyL0ZpZWxkcy9GaWVsZEl0ZW1CYXNlXCI7XHJcbmltcG9ydCB7V1BGb3JtQ29udHJvbFR5cGVFbnVtfSBmcm9tIFwiLi4vQ29udHJvbHMvV1BGb3JtRmFjdG9yeVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnZvaWNlRGV0YWlsRmllbGQgZXh0ZW5kcyBGaWVsZEl0ZW1CYXNlPFRleHRGaWVsZEl0ZW1Qcm9wcywgVGV4dEZpZWxkSXRlbVN0YXRlPiB7XHJcbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzOiBQYXJ0aWFsPFRleHRGaWVsZEl0ZW1Qcm9wcz4gPSB7fTtcclxuICAgIElzUFI6Ym9vbGVhbj10cnVlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBUZXh0RmllbGRJdGVtUHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgR2V0SW1hZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuICdXUEZvcm0vaW52b2ljZS5wbmcnXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEdldFRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuICdQcm9kdWN0IGRldGFpbCdcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgR2V0VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gV1BGb3JtQ29udHJvbFR5cGVFbnVtLkludm9pY2VEZXRhaWw7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8jcmVnaW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIlN0YXRlIGFuZCBwcm9wc1wiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmludGVyZmFjZSBUZXh0RmllbGRJdGVtUHJvcHMgZXh0ZW5kcyBGaWVsZEl0ZW1CYXNlUHJvcHN7XHJcblxyXG59XHJcblxyXG5pbnRlcmZhY2UgVGV4dEZpZWxkSXRlbVN0YXRlIGV4dGVuZHMgRmllbGRJdGVtQmFzZVN0YXRle1xyXG5cclxufVxyXG5cclxuLy8jZW5kcmVnaW9uIFwiTXkgUmVnaW9uXCIiLCJpbXBvcnQge0V2ZW50TWFuYWdlcn0gZnJvbSBcInNoYXJlZC91dGlsaXRpZXMvRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQge0dldEFkdmFuY2VkRmllbGR9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9FdmVudHMvR2V0QWR2YW5jZWRGaWVsZFwiO1xyXG5pbXBvcnQge0ludm9pY2VEZXRhaWxGaWVsZH0gZnJvbSBcIi4vRmllbGRJdGVtcy9JbnZvaWNlRGV0YWlsRmllbGRcIjtcclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7R2V0Q29udHJvbE9wdGlvbnN9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9FdmVudHMvR2V0Q29udHJvbE9wdGlvbnNcIjtcclxuaW1wb3J0IHtQUlBERkNvbnRyb2xGYWN0b3J5LCBQUlBERkNvbnRyb2xPcHRpb25zRmFjdG9yeX0gZnJvbSBcIi4uLy4uL1BhZ2VCdWlsZGVyUHIvUFJDb250cm9sRmFjdG9yeVwiO1xyXG5pbXBvcnQge0dldENvbnRyb2x9IGZyb20gXCJJbnRlcm5hbFNoYXJlZC9FdmVudHMvR2V0Q29udHJvbFwiO1xyXG5pbXBvcnQge1dQRm9ybUNvbnRyb2xGYWN0b3J5LCBXUEZvcm1Db250cm9sT3B0aW9uc0ZhY3Rvcnl9IGZyb20gXCIuL0NvbnRyb2xzL1dQRm9ybUZhY3RvcnlcIjtcclxuXHJcbkV2ZW50TWFuYWdlci5TdWJzY3JpYmUoR2V0QWR2YW5jZWRGaWVsZCxlPT57XHJcbiAgICByZXR1cm5bXHJcbiAgICAgICAgPEludm9pY2VEZXRhaWxGaWVsZC8+XHJcbiAgICBdXHJcbn0pO1xyXG5cclxuXHJcbkV2ZW50TWFuYWdlci5TdWJzY3JpYmUoR2V0Q29udHJvbE9wdGlvbnMsZT0+V1BGb3JtQ29udHJvbE9wdGlvbnNGYWN0b3J5LkdldENvbnRyb2xPcHRpb25zKGUuVHlwZSkpO1xyXG5FdmVudE1hbmFnZXIuU3Vic2NyaWJlKEdldENvbnRyb2wsZT0+V1BGb3JtQ29udHJvbEZhY3RvcnkuR2V0Q29udHJvbChlLlR5cGUpKTsiLCJtb2R1bGUuZXhwb3J0cyA9IEludGVybmFsU2hhcmVkKCdJbnRlcm5hbFNoYXJlZC9FdmVudHMvVXBkYXRlRmllbGRTZXR0aW5nc1BhbmVsJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBJbnRlcm5hbFNoYXJlZCgnSW50ZXJuYWxTaGFyZWQvUGFnZUJ1aWxkZXIvQ29udHJvbHMvUHJvcGVydGllcy9zdHlsZXMvR3JvdXBQcm9wZXJ0aWVzJyk7Il0sInNvdXJjZVJvb3QiOiIifQ==